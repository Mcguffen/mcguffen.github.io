<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="JavaScript参考网站：https:&#x2F;&#x2F;www.liaoxuefeng.com&#x2F;wiki&#x2F; 1 、概述1.1、前言JavaScript是世界上最流行的脚本语言，因为你在电脑、手机、平板上浏览的所有的网页，以及无数基于HTML5的手机App，交互逻辑都是由JavaScript驱动的。 简单地说，JavaScript是一种运行在浏览器中的解释型的编程语言。 那么问题来了，为什么我们要学JavaS">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScriptAndJQuery">
<meta property="og:url" content="https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/index.html">
<meta property="og:site_name" content="Hi! I am yang.">
<meta property="og:description" content="JavaScript参考网站：https:&#x2F;&#x2F;www.liaoxuefeng.com&#x2F;wiki&#x2F; 1 、概述1.1、前言JavaScript是世界上最流行的脚本语言，因为你在电脑、手机、平板上浏览的所有的网页，以及无数基于HTML5的手机App，交互逻辑都是由JavaScript驱动的。 简单地说，JavaScript是一种运行在浏览器中的解释型的编程语言。 那么问题来了，为什么我们要学JavaS">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/img-1.png">
<meta property="og:image" content="https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/img-2.png">
<meta property="article:published_time" content="2019-09-21T00:00:00.000Z">
<meta property="article:modified_time" content="2021-04-13T10:10:12.865Z">
<meta property="article:tag" content="js">
<meta property="article:tag" content="jQuery">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/img-1.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>JavaScriptAndJQuery</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/Mcguffen?tab=repositories">项目</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/09/27/docs/frontEnd/js/js01/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/09/20/docs/frontEnd/js/README/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&text=JavaScriptAndJQuery"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&is_video=false&description=JavaScriptAndJQuery"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=JavaScriptAndJQuery&body=Check out this article: https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&name=JavaScriptAndJQuery&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&t=JavaScriptAndJQuery"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript"><span class="toc-number">1.</span> <span class="toc-text">JavaScript</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E3%80%81%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">1 、概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1%E3%80%81%E5%89%8D%E8%A8%80"><span class="toc-number">1.2.</span> <span class="toc-text">1.1、前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2%E3%80%81JavaScript%E5%8E%86%E5%8F%B2"><span class="toc-number">1.3.</span> <span class="toc-text">1.2、JavaScript历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3%E3%80%81ECMAScript"><span class="toc-number">1.4.</span> <span class="toc-text">1.3、ECMAScript</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E3%80%81JavaScript%E7%89%88%E6%9C%AC"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.4、JavaScript版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5%E3%80%81%E5%BC%95%E5%85%A5JavaScript"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.5、引入JavaScript</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        JavaScriptAndJQuery
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name"></span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-09-21T00:00:00.000Z" itemprop="datePublished">2019-09-21</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/frontEnd/">frontEnd</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/jQuery/" rel="tag">jQuery</a>, <a class="tag-link-link" href="/tags/js/" rel="tag">js</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><p>参考网站：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/">https://www.liaoxuefeng.com/wiki/</a></p>
<h2 id="1-、概述"><a href="#1-、概述" class="headerlink" title="1 、概述"></a>1 、概述</h2><h2 id="1-1、前言"><a href="#1-1、前言" class="headerlink" title="1.1、前言"></a>1.1、前言</h2><p>JavaScript是世界上最流行的脚本语言，因为你在电脑、手机、平板上浏览的所有的网页，以及无数基于<br>HTML5的手机App，交互逻辑都是由JavaScript驱动的。</p>
<p>简单地说，JavaScript是一种运行在浏览器中的解释型的编程语言。</p>
<p>那么问题来了，为什么我们要学JavaScript？尤其是当你已经掌握了某些其他编程语言如Java、C++的情<br>况下。</p>
<p>简单粗暴的回答就是：因为你没有选择。在Web世界里，只有JavaScript能跨平台、跨浏览器驱动网页，<br>与用户交互。</p>
<p>Flash背后的ActionScript曾经流行过一阵子，不过随着移动应用的兴起，没有人用Flash开发手机App，<br>所以它目前已经边缘化了。相反，随着HTML5在PC和移动端越来越流行，JavaScript变得更加重要了。<br>并且，新兴的Node.js把JavaScript引入到了服务器端，JavaScript已经变成了全能型选手。</p>
<p>JavaScript一度被认为是一种玩具编程语言，它有很多缺陷，所以不被大多数后端开发人员所重视。很多<br>人认为，写JavaScript代码很简单，并且JavaScript只是为了在网页上添加一点交互和动画效果。</p>
<p>但这是完全错误的理解。JavaScript确实很容易上手，但其精髓却不为大多数开发人员所熟知。编写高质<br>量的JavaScript代码更是难上加难。</p>
<p>一个合格的开发人员应该精通JavaScript和其他编程语言。如果你已经掌握了其他编程语言，或者你还什<br>么都不会，请立刻开始学习JavaScript，不要被Web时代所淘汰。</p>
<h2 id="1-2、JavaScript历史"><a href="#1-2、JavaScript历史" class="headerlink" title="1.2、JavaScript历史"></a>1.2、JavaScript历史</h2><p>要了解JavaScript，我们首先要回顾一下JavaScript的诞生。</p>
<p>在上个世纪的 1995 年，当时的网景公司正凭借其Navigator浏览器成为Web时代开启时最著名的第一代<br>互联网公司。</p>
<p>由于网景公司希望能在静态HTML页面上添加一些动态效果，于是叫Brendan Eich这哥们在两周之内设<br>计出了JavaScript语言。你没看错，这哥们只用了 10 天时间。</p>
<p>为什么起名叫JavaScript？原因是当时Java语言非常红火，所以网景公司希望借Java的名气来推广，但事<br>实上JavaScript除了语法上有点像Java，其他部分基本上没啥关系。</p>
<h2 id="1-3、ECMAScript"><a href="#1-3、ECMAScript" class="headerlink" title="1.3、ECMAScript"></a>1.3、ECMAScript</h2><p>因为网景开发了JavaScript，一年后微软又模仿JavaScript开发了JScript，为了让JavaScript成为全球标<br>准，几个公司联合ECMA（European Computer Manufacturers Association）组织定制了JavaScript语<br>言的标准，被称为ECMAScript标准。</p>
<p>所以简单说来就是，ECMAScript是一种语言标准，而JavaScript是网景公司对ECMAScript标准的一种实<br>现。</p>
<p>那为什么不直接把JavaScript定为标准呢？因为JavaScript是网景的注册商标。</p>
<p>不过大多数时候，我们还是用JavaScript这个词。如果你遇到ECMAScript这个词，简单把它替换为<br>JavaScript就行了。</p>
<h3 id="1-4、JavaScript版本"><a href="#1-4、JavaScript版本" class="headerlink" title="1.4、JavaScript版本"></a>1.4、JavaScript版本</h3><p>JavaScript语言是在 10 天时间内设计出来的，虽然语言的设计者水平非常NB，但谁也架不住“时间紧，任<br>务重”，所以，JavaScript有很多设计缺陷，我们后面会慢慢讲到。</p>
<p>此外，由于JavaScript的标准——ECMAScript在不断发展，最新版ECMAScript 6标准（简称ES6）已经<br>在 2015 年 6 月正式发布了，所以，讲到JavaScript的版本，实际上就是说它实现了ECMAScript标准的哪<br>个版本。</p>
<p>由于浏览器在发布时就确定了JavaScript的版本，加上很多用户还在使用IE6这种古老的浏览器，这就导<br>致你在写JavaScript的时候，要照顾一下老用户，不能一上来就用最新的ES6标准写，否则，老用户的浏<br>览器是无法运行新版本的JavaScript代码的。</p>
<p>不过，JavaScript的核心语法并没有多大变化。我们的教程会先讲JavaScript最核心的用法，然后，针对<br>ES6讲解新增特性。</p>
<h3 id="1-5、引入JavaScript"><a href="#1-5、引入JavaScript" class="headerlink" title="1.5、引入JavaScript"></a>1.5、引入JavaScript</h3><p>JavaScript代码可以直接嵌在网页的任何地方，不过通常我们都把JavaScript代码放到 head 中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		alert(<span class="string">&#x27;Hello, world&#x27;</span>);</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>由 <script>...</script> 包含的代码就是JavaScript代码，它将直接被浏览器执行。</p>
<p>第二种方法是把JavaScript代码放到一个单独的.js文件，然后在HTML中通过 <script src="..."><br></script> 引入这个文件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/static/js/abc.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这样， /static/js/abc.js 就会被浏览器执行。</p>
<p>把JavaScript代码放入一个单独的 .js 文件中更利于维护代码，并且多个页面可以各自引用同一</p>
<p>份 .js 文件。</p>
<p>可以在同一个页面中引入多个 .js 文件</p>
<p>还可以在页面中多次编写 <script> js代码... </script> ，浏览器按照顺序依次执行。</p>
<p>有些时候你会看到 <script> 标签还设置了一个type属性：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>但这是没有必要的，因为默认的 type 就是JavaScript，所以不必显式地把 type 指定为<br>JavaScript。</p>
<h3 id="1-6、IDE推荐"><a href="#1-6、IDE推荐" class="headerlink" title="1.6、IDE推荐"></a>1.6、IDE推荐</h3><p>可以用任何文本编辑器来编写JavaScript代码。这里我们推荐以下几种文本编辑器：</p>
<ul>
<li>Visual Studio Code<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">微软出的Visual Studio Code，可以看做迷你版Visual Studio，免费！跨平台！内置</span><br><span class="line">JavaScript支持，强烈推荐使用！</span><br></pre></td></tr></table></figure></li>
<li>Sublime Text<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sublime Text是一个好用的文本编辑器，免费，但不注册会不定时弹出提示框。</span><br></pre></td></tr></table></figure></li>
<li>Notepad++<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Notepad++也是免费的文本编辑器，但仅限Windows下使用。</span><br></pre></td></tr></table></figure></li>
<li>WebStorm<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WebStorm 是jetbrains公司旗下一款JavaScript 开发工具。目前已经被广大中国JS开发者誉</span><br><span class="line">为“Web前端开发神器”、“最强大的HTML5编辑器”、“最智能的JavaScript IDE”等。</span><br></pre></td></tr></table></figure></li>
<li>IDEA<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java开发人员必备，NB！</span><br></pre></td></tr></table></figure></li>
<li>HBuilder<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HBuilder是DCloud（数字天堂）推出的一款支持HTML5的Web开发IDE。HBuilder的编写用到了</span><br><span class="line">Java、C、Web和Ruby。HBuilder本身主体是由Java编写。它基于Eclipse，所以顺其自然地兼</span><br><span class="line">容了Eclipse的插件。</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="1-7、运行JavaScript"><a href="#1-7、运行JavaScript" class="headerlink" title="1.7、运行JavaScript"></a>1.7、运行JavaScript</h3><p>要让浏览器运行JavaScript，必须先有一个HTML页面，在HTML页面中引入JavaScript，然后，让浏览器<br>加载该HTML页面，就可以执行JavaScript代码。</p>
<p>你也许会想，直接在我的硬盘上创建好HTML和JavaScript文件，然后用浏览器打开，不就可以看到效果<br>了吗？</p>
<p>这种方式运行部分JavaScript代码没有问题，但由于浏览器的安全限制，以 file:// 开头的地址无法</p>
<p>执行如联网等JavaScript代码，最终，你还是需要架设一个Web服务器，然后以 <a href="http://">http://</a> 开头的地址</p>
<p>来正常执行所有JavaScript代码。</p>
<p><strong>我的第一个javaScript程序</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 以双斜杠开头直到行末的是注释，注释是给人看的，会被浏览器忽略</span></span></span><br><span class="line"><span class="javascript"><span class="comment">/* 在这中间的也是注释，将被浏览器忽略 */</span></span></span><br><span class="line"><span class="javascript">			alert(<span class="string">&#x27;Hello,world&#x27;</span>);</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>浏览器将弹出一个对话框，显示“Hello, world”。你也可以修改两个单引号中间的内容，再试着运行。</p>
<h3 id="1-8、调试"><a href="#1-8、调试" class="headerlink" title="1.8、调试"></a>1.8、调试</h3><p>俗话说得好，“工欲善其事，必先利其器。”，写JavaScript的时候，如果期望显示 ABC ，结果却显示XYZ ，到底代码哪里出了问题？不要抓狂，也不要泄气，作为小白，要坚信：JavaScript本身没有问题，浏览器执行也没有问题，有问题的一定是我的代码。<br>如何找出问题代码？这就需要调试。<br>怎么在浏览器中调试JavaScript代码呢？<br>首先，你需要安装Google Chrome浏览器，Chrome浏览器对开发者非常友好，可以让你方便地调试<br>JavaScript代码。<br>安装后，随便打开一个网页，然后点击菜单“查看(View)”-“开发者(Developer)”-“开发者工具(Developer<br>Tools)”，浏览器窗口就会一分为二，下方就是开发者工具：<br><img src="img-1.png" alt="img-1"><br>先点击“控制台(Console)“，在这个面板里可以直接输入JavaScript代码，按回车后执行。<br>要查看一个变量的内容，在Console中输入 console.log(a); ，回车后显示的值就是变量的内容。<br>关闭Console请点击右上角的“×”按钮。请熟练掌握Console的使用方法，在编写JavaScript代码时，经常需要在Console运行测试代码。如果你对自己还有更高的要求，可以研究开发者工具的“源码(Sources)”，掌握断点、单步执行等高级调试技巧。</p>
<h2 id="2-、快速入门"><a href="#2-、快速入门" class="headerlink" title="2 、快速入门"></a>2 、快速入门</h2><h3 id="2-1、基本语法"><a href="#2-1、基本语法" class="headerlink" title="2.1、基本语法"></a>2.1、基本语法</h3><p>JavaScript的语法和Java语言类似，每个语句以 ; 结束，语句块用 {…} 。</p>
<p>但是，JavaScript并不强制要求在每个语句的结尾加 ; ，浏览器中负责执行JavaScript代码的引擎会自<br>动在每个语句的结尾补上 ;        </p>
<blockquote>
<p>让JavaScript引擎自动加分号在某些情况下会改变程序的语义，导致运行结果与期望不一致。在本教程中，我们不会省略;，所有语句都会添加;</p>
</blockquote>
<p>例如，下面的一行代码就是一个完整的赋值语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 1 ;</span><br></pre></td></tr></table></figure>

<p>下面的一行代码是一个字符串，但仍然可以视为一个完整的语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;Hello, world&#39;;</span><br></pre></td></tr></table></figure>

<h4 id="下面的一行代码包含两个语句，每个语句用-表示语句结束："><a href="#下面的一行代码包含两个语句，每个语句用-表示语句结束：" class="headerlink" title="下面的一行代码包含两个语句，每个语句用 ; 表示语句结束："></a>下面的一行代码包含两个语句，每个语句用 ; 表示语句结束：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 1 ; var y &#x3D; 2 ; &#x2F;&#x2F; 不建议一行写多个语句!</span><br></pre></td></tr></table></figure>

<p> 语句块是一组语句的集合，例如，下面的代码先做了一个判断，如果判断成立，将执行 {…} 中的所有语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if ( 2 &gt; 1 ) &#123;</span><br><span class="line">    x &#x3D; 1 ;</span><br><span class="line">    y &#x3D; 2 ;</span><br><span class="line">    z &#x3D; 3 ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意花括号 {…} 内的语句具有缩进，通常是 4 个空格。缩进不是JavaScript语法要求必须的，但缩进有助于我们理解代码的层次，所以编写代码时要遵守缩进规则。很多文本编辑器具有“自动缩进”的功能，可以帮助整理代码。<br>{…} 还可以嵌套，形成层级结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if ( 2 &gt; 1 ) &#123;</span><br><span class="line">    x &#x3D; 1 ;</span><br><span class="line">    y &#x3D; 2 ;</span><br><span class="line">    z &#x3D; 3 ;</span><br><span class="line">    if (x &lt; y) &#123;</span><br><span class="line">        z &#x3D; 4 ;</span><br><span class="line">    &#125;</span><br><span class="line">    if (x &gt; y) &#123;</span><br><span class="line">        z &#x3D; 5 ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>JavaScript本身对嵌套的层级没有限制，但是过多的嵌套无疑会大大增加看懂代码的难度。遇到这种情况，需要把部分代码抽出来，作为函数来调用，这样可以减少代码的复杂度。</p>
<p>以 // 开头直到行末的字符被视为行注释，注释是给开发人员看到，JavaScript引擎会自动忽略：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 这是一行注释</span><br><span class="line">alert(&#39;hello&#39;); &#x2F;&#x2F; 这也是注释</span><br></pre></td></tr></table></figure>

<p>另一种块注释是用 /<em>…</em>/ 把多行字符包裹起来，把一大“块”视为一个注释：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 从这里开始是块注释</span><br><span class="line"></span><br><span class="line">仍然是注释</span><br><span class="line"></span><br><span class="line">仍然是注释</span><br><span class="line"></span><br><span class="line">注释结束 *&#x2F;</span><br></pre></td></tr></table></figure>


<p><em><strong>请注意，JavaScript严格区分大小写，如果弄错了大小写，程序将报错或者运行不正常。</strong></em></p>
<h3 id="2-2、数据类型和变量"><a href="#2-2、数据类型和变量" class="headerlink" title="2.2、数据类型和变量"></a>2.2、数据类型和变量</h3><h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><p>计算机顾名思义就是可以做数学计算的机器，因此，计算机程序理所当然地可以处理各种数值。但是，计算机能处理的远不止数值，还可以处理文本、图形、音频、视频、网页等各种各样的数据，不同的数据，需要定义不同的数据类型。在JavaScript中定义了以下几种数据类型：</p>
<p>Number</p>
<p>JavaScript不区分整数和浮点数，统一用Number表示，以下都是合法的Number类型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">123 ; &#x2F;&#x2F; 整数 123</span><br><span class="line">0.456; &#x2F;&#x2F; 浮点数0.</span><br><span class="line">1.2345e3; &#x2F;&#x2F; 科学计数法表示1.2345x1000，等同于1234.</span><br><span class="line">- 99 ; &#x2F;&#x2F; 负数</span><br><span class="line">NaN; &#x2F;&#x2F; NaN表示Not a Number，当无法计算结果时用NaN表示</span><br><span class="line">Infinity; &#x2F;&#x2F; Infinity表示无限大，当数值超过了JavaScript的Number所能表示的最大值时，就</span><br><span class="line">表示为Infinity</span><br></pre></td></tr></table></figure>

<p>计算机由于使用二进制，所以，有时候用十六进制表示整数比较方便，十六进制用0x前缀和0-9，a-f表示，例如： 0xff00 ， 0xa5b4c3d2 ，等等，它们和十进制表示的数值完全一样。</p>
<p>Number可以直接做四则运算，规则和数学一致：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 + 2 ; &#x2F;&#x2F; 3</span><br><span class="line">( 1 + 2 ) * 5 &#x2F; 2 ; &#x2F;&#x2F; 7.</span><br><span class="line">2 &#x2F; 0 ; &#x2F;&#x2F; Infinity</span><br><span class="line">0 &#x2F; 0 ; &#x2F;&#x2F; NaN</span><br><span class="line">10 % 3 ; &#x2F;&#x2F; 1</span><br><span class="line">10.5 % 3 ; &#x2F;&#x2F; 1.5</span><br></pre></td></tr></table></figure>
<p> 注意 % 是求余运算。也叫取模。</p>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>字符串是以单引号’或双引号”括起来的任意文本，比如 ‘abc’ ， “xyz” 等等。请注<br>意， ‘’ 或 “” 本身只是一种表示方式，不是字符串的一部分，因此，字符串 ‘abc’ 只有<br>a ， b ， c 这 3 个字符。</p>
<h4 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h4><p>布尔值和布尔代数的表示完全一致，一个布尔值只有 true 、 false 两种值，要么是 true ，要<br>么是 false ，可以直接用 true 、 false 表示布尔值，也可以通过布尔运算计算出来：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">true; &#x2F;&#x2F; 这是一个true值</span><br><span class="line">false; &#x2F;&#x2F; 这是一个false值</span><br><span class="line">2 &gt; 1 ; &#x2F;&#x2F; 这是一个true值</span><br><span class="line">2 &gt;&#x3D; 3 ; &#x2F;&#x2F; 这是一个false值</span><br></pre></td></tr></table></figure>
<p>&amp;&amp; 运算是与运算，只有所有都为 true ， &amp;&amp; 运算结果才是 true ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">true &amp;&amp; true; &#x2F;&#x2F; 这个&amp;&amp;语句计算结果为true</span><br><span class="line">true &amp;&amp; false; &#x2F;&#x2F; 这个&amp;&amp;语句计算结果为false</span><br><span class="line">false &amp;&amp; true &amp;&amp; false; &#x2F;&#x2F; 这个&amp;&amp;语句计算结果为false</span><br></pre></td></tr></table></figure>

<p>|| 运算是或运算，只要其中有一个为 true ， || 运算结果就是 true ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">false || false; &#x2F;&#x2F; 这个||语句计算结果为false</span><br><span class="line">true || false; &#x2F;&#x2F; 这个||语句计算结果为true</span><br><span class="line">false || true || false; &#x2F;&#x2F; 这个||语句计算结果为true</span><br></pre></td></tr></table></figure>

<p>! 运算是非运算，它是一个单目运算符，把 true 变成 false ， false 变成 true ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">! true; &#x2F;&#x2F; 结果为false</span><br><span class="line">! false; &#x2F;&#x2F; 结果为true</span><br><span class="line">! ( 2 &gt; 5 ); &#x2F;&#x2F; 结果为true</span><br></pre></td></tr></table></figure>

<p>布尔值经常用在条件判断中，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var age &#x3D; 15 ;</span><br><span class="line">if (age &gt;&#x3D; 18 ) &#123;</span><br><span class="line">alert(&#39;adult&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">alert(&#39;teenager&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><p>当我们对Number做比较时，可以通过比较运算符得到一个布尔值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2 &gt; 5 ; &#x2F;&#x2F; false</span><br><span class="line">5 &gt;&#x3D; 2 ; &#x2F;&#x2F; true</span><br><span class="line">7 &#x3D;&#x3D; 7 ; &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>


<p>实际上，JavaScript允许对任意数据类型做比较：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">false &#x3D;&#x3D; 0 ; &#x2F;&#x2F; true</span><br><span class="line">false &#x3D;&#x3D;&#x3D; 0 ; &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>


<p>要特别注意相等运算符** ==** 。JavaScript在设计时，有两种比较运算符：</p>
<p>第一种是** ==** 比较，它会自动转换数据类型再比较，很多时候，会得到非常诡异的结果；</p>
<p>第二种是 <strong>=== <strong>比较，它不会自动转换数据类型，如果数据类型不一致，返回</strong> false</strong> ，如果一致，<br>再比较。</p>
<p><strong>由于JavaScript这个设计缺陷，不要使用</strong> == <strong>比较，始终坚持使用</strong> === <strong>比较。</strong></p>
<p>另一个例外是 <strong>NaN</strong> 这个特殊的Number与所有其他值都不相等，包括它自己：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 NaN &#x3D;&#x3D;&#x3D; NaN; &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<p>唯一能判断 <strong>NaN</strong> 的方法是通过 isNaN() 函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 isNaN(NaN); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<p>最后要注意浮点数的相等比较：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &#x2F; 3 &#x3D;&#x3D;&#x3D; ( 1 - 2 &#x2F; 3 ); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<p>这不是JavaScript的设计缺陷。浮点数在运算过程中会产生误差，因为计算机无法精确表示无限循环小<br>数。要比较两个浮点数是否相等，只能计算它们之差的绝对值，看是否小于某个阈值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 Math.abs( 1 &#x2F; 3 - ( 1 - 2 &#x2F; 3 )) &lt; 0.0000001; &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>



<p>null和undefined</p>
<p><strong>null</strong> 表示一个“空”的值，它和 <strong>0</strong> 以及空字符串 ‘’ 不同，** 0 <strong>是一个数值，</strong> ‘’ <strong>表示长度为 0的字符串，而 <strong>null</strong> 表示“空”。<br>在其他语言中，也有类似JavaScript的</strong> null** 的表示，例如Java也用** null** ，Swift用** nil <strong>，Python用 <strong>None</strong> 表示。但是，在JavaScript中，还有一个和 <strong>null</strong> 类似的</strong> undefined **，它表示“未定义”。</p>
<p>JavaScript的设计者希望用** null **表示一个空的值，而 <strong>undefined <strong>表示值未定义。事实证明，这并没有什么卵用，区分两者的意义不大。大多数情况下，我们都应该用</strong> null</strong> 。 <strong>undefined</strong> 仅仅在判断函数参数是否传递的情况下有用。</p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>数组是一组按顺序排列的集合，集合的每个值称为元素。JavaScript的数组可以包括任意数据类型。例<br>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ 1 , 2 , 3.14, &#39;Hello&#39;, null, true];</span><br></pre></td></tr></table></figure>

<p>上述数组包含 6 个元素。数组用** [] <strong>表示，元素之间用</strong> , **分隔。<br>另一种创建数组的方法是通过 **Array() **函数实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new Array( 1 , 2 , 3 ); &#x2F;&#x2F; 创建了数组[1, 2, 3]</span><br></pre></td></tr></table></figure>

<p>然而，出于代码的可读性考虑，强烈建议直接使用** [] <strong>。<br>数组的元素可以通过索引来访问。请注意，索引的起始值为</strong> 0** ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [ 1 , 2 , 3.14, &#39;Hello&#39;, null, true];</span><br><span class="line">arr[ 0 ]; &#x2F;&#x2F; 返回索引为 0 的元素，即 1</span><br><span class="line">arr[ 5 ]; &#x2F;&#x2F; 返回索引为 5 的元素，即true</span><br><span class="line">arr[ 6 ]; &#x2F;&#x2F; 索引超出了范围，返回undefined</span><br></pre></td></tr></table></figure>





<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><p>JavaScript的对象是一组由键-值组成的无序集合，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var person &#x3D; &#123;</span><br><span class="line">name: &#39;Bob&#39;,</span><br><span class="line">age: 20 ,</span><br><span class="line">tags: [&#39;js&#39;, &#39;web&#39;, &#39;mobile&#39;],</span><br><span class="line">city: &#39;Beijing&#39;,</span><br><span class="line">hasCar: true,</span><br><span class="line">zipcode: null</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>JavaScript对象的键都是字符串类型，值可以是任意数据类型。上述 <strong>person</strong> 对象一共定义了 6 个键值对，其中每个键又称为对象的属性，例如， person 的 <strong>name</strong> 属性为** ‘Bob’ **， <strong>zipcode</strong> 属性为 **null **。</p>
<p>要获取一个对象的属性，我们用** 对象变量.属性名 **的方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person.name; &#x2F;&#x2F; &#39;Bob&#39;</span><br><span class="line">person.zipcode; &#x2F;&#x2F; null</span><br></pre></td></tr></table></figure>








<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>变量的概念基本上和初中代数的方程变量是一致的，只是在计算机程序中，变量不仅可以是数字，还可以是任意数据类型。</p>
<p>变量在JavaScript中就是用一个变量名表示，变量名是<strong>大小写英文</strong>、<strong>数字</strong>、** $** 和 <strong>_ <strong>的组合，且不能用数字开头。变量名也不能是JavaScript的关键字，如</strong> if</strong> 、 <strong>while</strong> 等。申明一个变量用 <strong>var</strong> 语句，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a; &#x2F;&#x2F; 申明了变量a，此时a的值为undefined</span><br><span class="line">var $b &#x3D; 1 ; &#x2F;&#x2F; 申明了变量$b，同时给$b赋值，此时$b的值为 1</span><br><span class="line">var s_007 &#x3D; &#39;007&#39;; &#x2F;&#x2F; s_007是一个字符串</span><br><span class="line">var Answer &#x3D; true; &#x2F;&#x2F; Answer是一个布尔值true</span><br><span class="line">var t &#x3D; null; &#x2F;&#x2F; t的值是null</span><br></pre></td></tr></table></figure>
<p>变量名也可以用中文，但是，请不要给自己找麻烦。</p>
<p>在JavaScript中，使用等号 <strong>=</strong> 对变量进行<strong>赋值</strong>。可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同类型的变量，但是要注意只能用 var 申明一次，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; 123 ; &#x2F;&#x2F; a的值是整数 123</span><br><span class="line">a &#x3D; &#39;ABC&#39;; &#x2F;&#x2F; a变为字符串</span><br></pre></td></tr></table></figure>

<p> 这种变量本身类型不固定的语言称之为动态语言，与之对应的是静态语言。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。例如Java是静态语言，赋值语句如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int a &#x3D; 123 ; &#x2F;&#x2F; a是整数类型变量，类型用int申明</span><br><span class="line">a &#x3D; &quot;ABC&quot;; &#x2F;&#x2F; 错误：不能把字符串赋给整型变量</span><br></pre></td></tr></table></figure>


<p>和静态语言相比，动态语言更灵活，就是这个原因。<br>请不要把赋值语句的等号等同于数学的等号。比如下面的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10 ;</span><br><span class="line">x &#x3D; x + 2 ;</span><br></pre></td></tr></table></figure>


<p>如果从数学上理解 x = x + 2 那无论如何是不成立的，在程序中，赋值语句先计算右侧的表达式 x</p>
<ul>
<li>2 ，得到结果 12 ，再赋给变量 x 。由于 x 之前的值是 10 ，重新赋值后， x 的值变成<br>12 。</li>
</ul>
<p>打印变量X，要显示变量的内容，可以用 console.log(x) ，打开Chrome的控制台就可以看到结果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 100 ;</span><br><span class="line">console.log(x);</span><br></pre></td></tr></table></figure>
<p>使用 console.log() 代替 alert() 的好处是可以避免弹出烦人的对话框。</p>
<h3 id="2-3、strict模式"><a href="#2-3、strict模式" class="headerlink" title="2.3、strict模式"></a>2.3、strict模式</h3><p>JavaScript在设计之初，为了方便初学者学习，并不强制要求用 var 申明变量。这个设计错误带来了<br>严重的后果：如果一个变量没有通过 var 申明就被使用，那么该变量就自动被申明为全局变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i &#x3D; 10 ; &#x2F;&#x2F; i现在是全局变量</span><br></pre></td></tr></table></figure>

<p>在同一个页面的不同的JavaScript文件中，如果都不用 var 申明，恰好都使用了变量 i ，将造成变<br>量 i 互相影响，产生难以调试的错误结果。</p>
<p>使用 var 申明的变量则不是全局变量，它的范围被限制在该变量被申明的函数体内（函数的概念将稍后讲解），同名变量在不同的函数体内互不冲突。</p>
<p>为了修补JavaScript这一严重设计缺陷，ECMA在后续规范中推出了strict模式，在strict模式下运行的JavaScript代码，强制通过 var 申明变量，未使用 var 申明变量就使用的，将导致运行错误。<br>启用strict模式的方法是在JavaScript代码的第一行写上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br></pre></td></tr></table></figure>


<p>这是一个字符串，不支持strict模式的浏览器会把它当做一个字符串语句执行，支持strict模式的浏览器<br>将开启strict模式运行JavaScript。</p>
<p>测试一下你的浏览器是否能支持strict模式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line">&#x2F;&#x2F; 如果浏览器支持strict模式，下面的代码将报ReferenceError错误:</span><br><span class="line">abc &#x3D; &#39;Hello, world&#39;;</span><br><span class="line">console.log(abc);</span><br></pre></td></tr></table></figure>
<p>报错如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VM471:4 Uncaught ReferenceError: abc is not defined</span><br><span class="line">    at &lt;anonymous&gt;:4:5</span><br></pre></td></tr></table></figure>


<p>运行代码，如果浏览器报错，请修复后再运行。如果浏览器不报错，说明你的浏览器太古老了，需要尽快升级。</p>
<p>不用 var 申明的变量会被视为全局变量，为了避免这一缺陷，所有的JavaScript代码都应该使用strict<br>模式。我们在后面编写的JavaScript代码将全部采用strict模式。</p>
<h3 id="2-4、字符串"><a href="#2-4、字符串" class="headerlink" title="2.4、字符串"></a>2.4、字符串</h3><p>JavaScript的字符串就是用 ‘’ 或 “” 括起来的字符表示。</p>
<p>如果 ‘ 本身也是一个字符，那就可以用 “” 括起来，比如 “I’m OK” 包含的字符是<br>I ， ‘ ， m ，空格， O ， K 这 6 个字符。<br>如果字符串内部既包含 ‘ 又包含 “ 怎么办？可以用转义字符 \ 来标识，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;I\&#39;m \&quot;OK\&quot;!&#39;;</span><br></pre></td></tr></table></figure>

<p>表示的字符串内容是： I’m “OK”!</p>
<p>转义字符 \ 可以转义很多字符，比如 \n 表示换行， \t 表示制表符，字符 \ 本身也要转义，</p>
<p>所以 \ 表示的字符就是 \ 。</p>
<p>ASCII字符可以以 \x## 形式的十六进制表示，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;\x41&#39;; &#x2F;&#x2F; 完全等同于 &#39;A&#39;</span><br></pre></td></tr></table></figure>

<p>还可以用 \u#### 表示一个Unicode字符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;\u4e2d\u6587&#39;; &#x2F;&#x2F; 完全等同于 &#39;中文&#39;</span><br></pre></td></tr></table></figure>



<h4 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h4><p>由于多行字符串用 \n 写起来比较费事，所以最新的ES6标准新增了一种多行字符串的表示方法，用反</p>
<p>引号 ``表示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#96;这是一个</span><br><span class="line"></span><br><span class="line">多行</span><br><span class="line"></span><br><span class="line">字符串&#96;;</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：反引号在键盘的ESC下方，数字键 1 的左边：<br><img src="img-2.png" alt="img-2"></p>
<h4 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h4><p>要把多个字符串连接起来，可以用 + 号连接：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var name &#x3D; &#39;小明&#39;;</span><br><span class="line">var age &#x3D; 20 ;</span><br><span class="line">var message &#x3D; &#39;你好, &#39; + name + &#39;, 你今年&#39; + age + &#39;岁了!&#39;;</span><br><span class="line">alert(message);</span><br></pre></td></tr></table></figure>
<p>如果有很多变量需要连接，用 + 号就比较麻烦。ES6新增了一种模板字符串，表示方法和上面的多行字符串一样，但是它会自动替换字符串中的变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var name &#x3D; &#39;小明&#39;;</span><br><span class="line">var age &#x3D; 20 ;</span><br><span class="line">var message &#x3D; &#96;你好, $&#123;name&#125;, 你今年$&#123;age&#125;岁了!&#96;;</span><br><span class="line">alert(message);</span><br></pre></td></tr></table></figure>


<h4 id="操作字符串"><a href="#操作字符串" class="headerlink" title="操作字符串"></a>操作字符串</h4><p>字符串常见的操作如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; &#39;Hello, world!&#39;;</span><br><span class="line">s.length; &#x2F;&#x2F; 13</span><br></pre></td></tr></table></figure>

<p>要获取字符串某个指定位置的字符，使用类似Array的下标操作，索引号从 0 开始：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; &#39;Hello, world!&#39;;</span><br><span class="line"></span><br><span class="line">s[ 0 ]; &#x2F;&#x2F; &#39;H&#39;</span><br><span class="line">s[ 6 ]; &#x2F;&#x2F; &#39; &#39;</span><br><span class="line">s[ 7 ]; &#x2F;&#x2F; &#39;w&#39;</span><br><span class="line">s[ 12 ]; &#x2F;&#x2F; &#39;!&#39;</span><br><span class="line">s[ 13 ]; &#x2F;&#x2F; undefined 超出范围的索引不会报错，但一律返回undefined</span><br></pre></td></tr></table></figure>


<p>需要特别注意的是，字符串是不可变的，如果对字符串的某个索引赋值，不会有任何错误，但是，也没有任何效果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; &#39;Test&#39;;</span><br><span class="line">s[ 0 ] &#x3D; &#39;X&#39;;</span><br><span class="line">alert(s); &#x2F;&#x2F; s仍然为&#39;Test&#39;</span><br></pre></td></tr></table></figure>



<p>JavaScript为字符串提供了一些常用方法，注意，调用这些方法本身不会改变原有字符串的内容，而是返<br>回一个新字符串：</p>
<ul>
<li><p>toUpperCase() 把一个字符串全部变为大写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; &#39;Hello&#39;;</span><br><span class="line">s.toUpperCase(); &#x2F;&#x2F; 返回&#39;HELLO&#39;</span><br></pre></td></tr></table></figure></li>
<li><p>toLowerCase() 把一个字符串全部变为小写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; &#39;Hello&#39;;</span><br><span class="line">var lower &#x3D; s.toLowerCase(); &#x2F;&#x2F; 返回&#39;hello&#39;并赋值给变量lower</span><br><span class="line">lower; &#x2F;&#x2F; &#39;hello&#39;</span><br></pre></td></tr></table></figure></li>
<li><p>indexOf() 会搜索指定字符串出现的位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; &#39;hello, world&#39;;</span><br><span class="line">s.indexOf(&#39;world&#39;); &#x2F;&#x2F; 返回 7</span><br><span class="line">s.indexOf(&#39;World&#39;); &#x2F;&#x2F; 没有找到指定的子串，返回-1</span><br></pre></td></tr></table></figure></li>
<li><p>substring() 返回指定索引区间的子串</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; &#39;hello, world&#39;</span><br><span class="line">s.substring( 0 , 5 ); &#x2F;&#x2F; 从索引 0 开始到 5 （不包括 5 ），返回&#39;hello&#39;</span><br><span class="line">s.substring( 7 ); &#x2F;&#x2F; 从索引 7 开始到结束，返回&#39;world&#39;</span><br></pre></td></tr></table></figure>



<h3 id="2-5、数组"><a href="#2-5、数组" class="headerlink" title="2.5、数组"></a>2.5、数组</h3><p>JavaScript的 Array 可以包含任意数据类型，并通过索引来访问每个元素。</p>
<p>要取得 Array 的长度，直接访问 length 属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [ 1 , 2 , 3.14, &#39;Hello&#39;, null, true];</span><br><span class="line">arr.length; &#x2F;&#x2F; 6</span><br></pre></td></tr></table></figure>

<p>请注意，直接给 Array 的 length 赋一个新的值会导致 Array 大小的变化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [ 1 , 2 , 3 ];</span><br><span class="line">arr.length; &#x2F;&#x2F; 3</span><br><span class="line">arr.length &#x3D; 6 ;</span><br><span class="line">arr; &#x2F;&#x2F; arr变为[1, 2, 3, undefined, undefined, undefined]</span><br><span class="line">arr.length &#x3D; 2 ;</span><br><span class="line">arr; &#x2F;&#x2F; arr变为[1, 2]</span><br></pre></td></tr></table></figure>


<p>Array 可以通过索引把对应的元素修改为新的值，因此，对 Array 的索引进行赋值会直接修改这<br>个 Array</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;];</span><br><span class="line">arr[ 1 ] &#x3D; 99 ;</span><br><span class="line">arr; &#x2F;&#x2F; arr现在变为[&#39;A&#39;, 99, &#39;C&#39;]</span><br></pre></td></tr></table></figure>

<p>请注意，如果通过索引赋值时，索引超过了范围，同样会引起 Array 大小的变化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [ 1 , 2 , 3 ];</span><br><span class="line">arr[ 5 ] &#x3D; &#39;x&#39;;</span><br><span class="line">arr; &#x2F;&#x2F; arr变为[1, 2, 3, undefined, undefined, &#39;x&#39;]</span><br></pre></td></tr></table></figure>

<p>大多数其他编程语言不允许直接改变数组的大小，越界访问索引会报错。然而，JavaScript的 Array<br>却不会有任何错误。在编写代码时，不建议直接修改 Array 的大小，访问索引时要确保索引不会越<br>界。</p>
<h4 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h4><ul>
<li><strong>indexOf</strong><br>与String类似， Array 也可以通过 indexOf() 来搜索一个指定的元素的位置：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [ 10 , 20 , &#39;30&#39;, &#39;xyz&#39;];</span><br><span class="line">arr.indexOf( 10 ); &#x2F;&#x2F; 元素 10 的索引为 0</span><br><span class="line">arr.indexOf( 20 ); &#x2F;&#x2F; 元素 20 的索引为 1</span><br><span class="line">arr.indexOf( 30 ); &#x2F;&#x2F; 元素 30 没有找到，返回-</span><br><span class="line">arr.indexOf(&#39;30&#39;); &#x2F;&#x2F; 元素&#39;30&#39;的索引为 2</span><br></pre></td></tr></table></figure>
注意了，数字 30 和字符串 ‘30’ 是不同的元素。</li>
</ul>
<ul>
<li><strong>slice</strong><br>slice() 就是对应String的 substring() 版本，它截取 Array 的部分元素，然后返回一个<br>新的 Array</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;];</span><br><span class="line">arr.slice( 0 , 3 ); &#x2F;&#x2F; 从索引 0 开始，到索引 3 结束，但不包括索引3: [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span><br><span class="line">arr.slice( 3 ); &#x2F;&#x2F; 从索引 3 开始到结束: [&#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;]</span><br></pre></td></tr></table></figure>
<p>注意到 slice() 的起止参数包括开始索引，不包括结束索引。<br>如果不给 slice() 传递任何参数，它就会从头到尾截取所有元素。利用这一点，我们可以很容<br>易地复制一个 Array ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;];</span><br><span class="line">var aCopy &#x3D; arr.slice();</span><br><span class="line">aCopy; &#x2F;&#x2F; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;]</span><br><span class="line">aCopy &#x3D;&#x3D;&#x3D; arr; &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>push和pop</strong><br>push() 向 Array 的末尾添加若干元素， pop() 则把 Array 的最后一个元素删除掉<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [ 1 , 2 ];</span><br><span class="line">arr.push(&#39;A&#39;, &#39;B&#39;); &#x2F;&#x2F; 返回Array新的长度: 4</span><br><span class="line">arr; &#x2F;&#x2F; [1, 2, &#39;A&#39;, &#39;B&#39;]</span><br><span class="line">arr.pop(); &#x2F;&#x2F; pop()返回&#39;B&#39;</span><br><span class="line">arr; &#x2F;&#x2F; [1, 2, &#39;A&#39;]</span><br><span class="line">arr.pop(); arr.pop(); arr.pop(); &#x2F;&#x2F; 连续pop 3次</span><br><span class="line">arr; &#x2F;&#x2F; []</span><br><span class="line">arr.pop(); &#x2F;&#x2F; 空数组继续pop不会报错，而是返回undefined</span><br><span class="line">arr; &#x2F;&#x2F; []</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><strong>unshift和shift</strong></li>
</ul>
<p>如果要往 Array 的头部添加若干元素，使用 unshift() 方法， shift() 方法则把<br>Array 的第一个元素删掉：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [ 1 , 2 ];</span><br><span class="line">arr.unshift(&#39;A&#39;, &#39;B&#39;); &#x2F;&#x2F; 返回Array新的长度: 4</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;A&#39;, &#39;B&#39;, 1, 2]</span><br><span class="line">arr.shift(); &#x2F;&#x2F; &#39;A&#39;</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;B&#39;, 1, 2]</span><br><span class="line">arr.shift(); arr.shift(); arr.shift(); &#x2F;&#x2F; 连续shift 3次</span><br><span class="line">arr; &#x2F;&#x2F; []</span><br><span class="line">arr.shift(); &#x2F;&#x2F; 空数组继续shift不会报错，而是返回undefined</span><br><span class="line">arr; &#x2F;&#x2F; []</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>sort</strong></li>
</ul>
<p>sort() 可以对当前 Array 进行排序，它会直接修改当前 Array 的元素位置，直接调用<br>时，按照默认顺序排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;B&#39;, &#39;C&#39;, &#39;A&#39;];</span><br><span class="line">arr.sort();</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span><br></pre></td></tr></table></figure>
<p> 能否按照我们自己指定的顺序排序呢？完全可以，我们将在后面的函数中讲到。</p>
<ul>
<li><strong>reverse</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reverse() 把整个 Array 的元素给掉个个，也就是反转</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;one&#39;, &#39;two&#39;, &#39;three&#39;];</span><br><span class="line">arr.reverse();</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;three&#39;, &#39;two&#39;, &#39;one&#39;]</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>splice</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">splice() 方法是修改 Array 的“万能方法”，它可以从指定的索引开始删除若干元素，然后再</span><br></pre></td></tr></table></figure>
<p>从该位置添加若干元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;Microsoft&#39;, &#39;Apple&#39;, &#39;Yahoo&#39;, &#39;AOL&#39;, &#39;Excite&#39;, &#39;Oracle&#39;];</span><br><span class="line">&#x2F;&#x2F; 从索引 2 开始删除 3 个元素,然后再添加两个元素:</span><br><span class="line">arr.splice( 2 , 3 , &#39;Google&#39;, &#39;Facebook&#39;); &#x2F;&#x2F; 返回删除的元素 [&#39;Yahoo&#39;, &#39;AOL&#39;,</span><br><span class="line">&#39;Excite&#39;]</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;Microsoft&#39;, &#39;Apple&#39;, &#39;Google&#39;, &#39;Facebook&#39;, &#39;Oracle&#39;]</span><br><span class="line">&#x2F;&#x2F; 只删除,不添加:</span><br><span class="line">arr.splice( 2 , 2 ); &#x2F;&#x2F; [&#39;Google&#39;, &#39;Facebook&#39;]</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;Microsoft&#39;, &#39;Apple&#39;, &#39;Oracle&#39;]</span><br><span class="line">&#x2F;&#x2F; 只添加,不删除:</span><br><span class="line">arr.splice( 2 , 0 , &#39;Google&#39;, &#39;Facebook&#39;); &#x2F;&#x2F; 返回[],因为没有删除任何元素</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;Microsoft&#39;, &#39;Apple&#39;, &#39;Google&#39;, &#39;Facebook&#39;, &#39;Oracle&#39;]</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>concat</strong></li>
</ul>
<p>concat() 方法把当前的 Array 和另一个 Array 连接起来，并返回一个新的 Array</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;];</span><br><span class="line">var added &#x3D; arr.concat([ 1 , 2 , 3 ]);</span><br><span class="line">added; &#x2F;&#x2F; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 1, 2, 3]</span><br><span class="line">arr; &#x2F;&#x2F; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span><br></pre></td></tr></table></figure>

<p>请注意， concat() 方法并没有修改当前 Array ，而是返回了一个新的 Array 。<br>实际上， concat() 方法可以接收任意个元素和 Array ，并且自动把 Array 拆开，然后全<br>部添加到新的 Array 里：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;];</span><br><span class="line">arr.concat( 1 , 2 , [ 3 , 4 ]); &#x2F;&#x2F; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 1, 2, 3, 4]</span><br></pre></td></tr></table></figure>







<ul>
<li><strong>join</strong><br>join() 方法是一个非常实用的方法，它把当前 Array 的每个元素都用指定的字符串连接起<br>来，然后返回连接后的字符串：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 1 , 2 , 3 ];</span><br><span class="line">arr.join(&#39;-&#39;); &#x2F;&#x2F; &#39;A-B-C-1-2-3&#39;</span><br></pre></td></tr></table></figure>
如果 Array 的元素不是字符串，将自动转换为字符串后再连接。</li>
</ul>
<ul>
<li><strong>多维数组</strong></li>
</ul>
<p>如果数组的某个元素又是一个 Array ，则可以形成多维数组，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [[ 1 , 2 , 3 ], [ 400 , 500 , 600 ], &#39;-&#39;];</span><br></pre></td></tr></table></figure>

<p>上述 Array 包含 3 个元素，其中头两个元素本身也是 Array 。<br>练习：如何通过索引取到 500 这个值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; arr[ 1 ][ 2 ];</span><br><span class="line">console.log(x); &#x2F;&#x2F; x应该为 500</span><br></pre></td></tr></table></figure>



<h3 id="2-6、对象"><a href="#2-6、对象" class="headerlink" title="2.6、对象"></a>2.6、对象</h3><p>JavaScript的对象是一种无序的集合数据类型，它由若干键值对组成。</p>
<p>JavaScript的对象用于描述现实世界中的某个对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var person &#x3D; &#123;</span><br><span class="line">name: &#39;小明&#39;,</span><br><span class="line">birth: 1990 ,</span><br><span class="line">school: &#39;No.1 Middle School&#39;,</span><br><span class="line">height: 1.70,</span><br><span class="line">weight: 65 ,</span><br><span class="line">score: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>1 、定义一个对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var 对象名 &#x3D; &#123;</span><br><span class="line">key: &#39;value&#39;,</span><br><span class="line">key: &#39;value&#39;,</span><br><span class="line">key: &#39;value&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>2 、获取对象的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象.属性</span><br></pre></td></tr></table></figure>

<p>3 、由于JavaScript的对象是动态类型，你可以自由地给一个对象添加或删除属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">	name: &quot;小明&quot;</span><br><span class="line">&#125;;</span><br><span class="line">xiaoming.age; &#x2F;&#x2F; undefined</span><br><span class="line">xiaoming.age &#x3D; 18; &#x2F;&#x2F; 新增一个age属性</span><br><span class="line">xiaoming.age; &#x2F;&#x2F; 18</span><br><span class="line">delete xiaoming.age; &#x2F;&#x2F; 删除age属性</span><br><span class="line">xiaoming.age; &#x2F;&#x2F; undefined</span><br><span class="line">delete xiaoming[&#39;name&#39;]; &#x2F;&#x2F; 删除name属性</span><br><span class="line">xiaoming.name; &#x2F;&#x2F; undefined</span><br><span class="line">delete xiaoming.school; &#x2F;&#x2F; 删除一个不存在的school属性也不会报错</span><br></pre></td></tr></table></figure>

<p>如果我们要检测对象是否拥有某一属性，可以用 in 操作符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">name: &#39;小明&#39;,</span><br><span class="line">birth: 1990 ,</span><br><span class="line">school: &#39;No.1 Middle School&#39;,</span><br><span class="line">height: 1.70,</span><br><span class="line">weight: 65 ,</span><br><span class="line">score: null</span><br><span class="line">&#125;;</span><br><span class="line">&#39;name&#39; in xiaoming; &#x2F;&#x2F; true</span><br><span class="line">&#39;grade&#39; in xiaoming; &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<p>不过要小心，如果用 in 判断一个属性存在，这个属性不一定是 这个对象的，它可能是这个对象继承得到的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;toString&#39; in xiaoming; &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>
<p>因为 toString 定义在 object 对象中，而所有对象最终都会在原型链上指向 object，所以xiaoming 也拥<br>有 toString 属性。</p>
<p>要判断一个属性是否是 xiaoming 自身拥有的，而不是继承得到的，可以用 hasOwnProperty() 方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">name: &#39;小明&#39;</span><br><span class="line">&#125;;</span><br><span class="line">xiaoming.hasOwnProperty(&#39;name&#39;); &#x2F;&#x2F; true</span><br><span class="line">xiaoming.hasOwnProperty(&#39;toString&#39;); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>






<h3 id="2-7、流程控制"><a href="#2-7、流程控制" class="headerlink" title="2.7、流程控制"></a>2.7、流程控制</h3><blockquote>
<p>if 判断</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var age &#x3D; 3 ;</span><br><span class="line">if (age &gt;&#x3D; 18 ) &#123;</span><br><span class="line">alert(&#39;adult&#39;);</span><br><span class="line">&#125; else if (age &gt;&#x3D; 6 ) &#123;</span><br><span class="line">alert(&#39;teenager&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">alert(&#39;kid&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>for循环</p>
</blockquote>
<h4 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 0 ;</span><br><span class="line">var i;</span><br><span class="line">for (i&#x3D; 1 ; i&lt;&#x3D; 10000 ; i++) &#123;</span><br><span class="line">    x &#x3D; x + i;</span><br><span class="line">&#125;</span><br><span class="line">x; &#x2F;&#x2F; 50005000</span><br></pre></td></tr></table></figure>

<h4 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var arr &#x3D; [&#39;Apple&#39;, &#39;Google&#39;, &#39;Microsoft&#39;];</span><br><span class="line">var i, x;</span><br><span class="line">for (i&#x3D; 0 ; i&lt;arr.length; i++) &#123;</span><br><span class="line">    x &#x3D; arr[i];</span><br><span class="line">    console.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="无限循环"><a href="#无限循环" class="headerlink" title="无限循环"></a>无限循环</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 0 ;</span><br><span class="line">for (;;) &#123; &#x2F;&#x2F; 将无限循环下去</span><br><span class="line">    if (x &gt; 100 ) &#123;</span><br><span class="line">    break; &#x2F;&#x2F; 通过if判断来退出循环</span><br><span class="line">    &#125;</span><br><span class="line">    x ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>for … in ， 它可以把一个对象的所有属性依次循环出来：<br>由于 Array 也是对象，而它的每个元素的索引被视为对象的属性，所以遍历出来是下标</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;];</span><br><span class="line">for (var i in a) &#123;</span><br><span class="line">console.log(i); &#x2F;&#x2F; &#39;0&#39;, &#39;1&#39;, &#39;2&#39;</span><br><span class="line">console.log(a[i]); &#x2F;&#x2F; &#39;A&#39;, &#39;B&#39;, &#39;C&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请注意， for … in 对 Array 的循环得到的是 String 而不是 Number 。</p>
<blockquote>
<p>while循环</p>
</blockquote>
<h4 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 0 ;</span><br><span class="line">var n &#x3D; 99 ;</span><br><span class="line">while (n &gt; 0 ) &#123;</span><br><span class="line">    x &#x3D; x + n;</span><br><span class="line">    n &#x3D; n - 2 ;</span><br><span class="line">&#125;</span><br><span class="line">x; &#x2F;&#x2F; 2500</span><br></pre></td></tr></table></figure>
<p>do…..while</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var n &#x3D; 0 ;</span><br><span class="line">do &#123;</span><br><span class="line">    n &#x3D; n + 1 ;</span><br><span class="line">&#125; while (n &lt; 100 );</span><br><span class="line">n; &#x2F;&#x2F; 100</span><br></pre></td></tr></table></figure>
<p>在编写循环代码时，务必小心编写初始条件和判断条件，尤其是边界值。<br>特别注意 i &lt; 100 和 i &lt;= 100 是不同的判断逻辑。</p>
<h3 id="2-8、Map-和-Set"><a href="#2-8、Map-和-Set" class="headerlink" title="2.8、Map 和 Set"></a>2.8、Map 和 Set</h3><p>JavaScript的默认对象表示方式 { } 可以视为其他语言中的 Map 或 Dictionary 的数据结构，即一组键值<br>对。但是JavaScript的对象有个小问题，就是键必须是字符串。但实际上Number或者其他数据类型作为<br>键也是非常合理的。</p>
<p>为了解决这个问题，最新的ES6规范引入了新的数据类型 Map 。</p>
<blockquote>
<p>Map</p>
</blockquote>
<p>Map 是一组键值对的结构，具有极快的查找速度。</p>
<p>举个例子，假设要根据同学的名字查找对应的成绩，如果用 Array 实现，需要两个 Array ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var names &#x3D; [&#39;Michael&#39;, &#39;Bob&#39;, &#39;Tracy&#39;];</span><br><span class="line">var scores &#x3D; [ 95 , 75 , 85 ];</span><br></pre></td></tr></table></figure>

<p>给定一个名字，要查找对应的成绩，就先要在names中找到对应的位置，再从scores取出对应的成绩，Array越长，耗时越长。</p>
<p>如果用Map实现，只需要一个“名字”-“成绩”的对照表，直接根据名字查找成绩，无论这个表有多大，查找速度都不会变慢。用JavaScript写一个Map如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var m &#x3D; new Map([[&#39;Michael&#39;, 95 ], [&#39;Bob&#39;, 75 ], [&#39;Tracy&#39;, 85 ]]);</span><br><span class="line">m.get(&#39;Michael&#39;); &#x2F;&#x2F; 95</span><br></pre></td></tr></table></figure>

<p>初始化 Map 需要一个二维数组，或者直接初始化一个空 Map 。 Map 具有以下方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var m &#x3D; new Map(); &#x2F;&#x2F; 空Map</span><br><span class="line">m.set(&#39;Adam&#39;, 67 ); &#x2F;&#x2F; 添加新的key-value</span><br><span class="line">m.set(&#39;Bob&#39;, 59 );</span><br><span class="line">m.has(&#39;Adam&#39;); &#x2F;&#x2F; 是否存在key &#39;Adam&#39;: true</span><br><span class="line">m.get(&#39;Adam&#39;); &#x2F;&#x2F; 67</span><br><span class="line">m.delete(&#39;Adam&#39;); &#x2F;&#x2F; 删除key &#39;Adam&#39;</span><br><span class="line">m.get(&#39;Adam&#39;); &#x2F;&#x2F; undefined</span><br></pre></td></tr></table></figure>


<p>由于一个key只能对应一个value，所以，多次对一个key放入value，后面的值会把前面的值冲掉：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var m &#x3D; new Map();</span><br><span class="line">m.set(&#39;Adam&#39;, 67 );</span><br><span class="line">m.set(&#39;Adam&#39;, 88 );</span><br><span class="line">m.get(&#39;Adam&#39;); &#x2F;&#x2F; 88</span><br></pre></td></tr></table></figure>



<blockquote>
<p>Set</p>
</blockquote>
<p>Set 和 Map 类似，也是一组key的集合，但不存储value。由于key不能重复，所以，在 Set 中，<br>没有重复的key。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s1 &#x3D; new Set(); &#x2F;&#x2F; 空Set</span><br><span class="line">var s2 &#x3D; new Set([ 1 , 2 , 3 ]); &#x2F;&#x2F; 含1, 2, 3</span><br></pre></td></tr></table></figure>




<p>重复元素在 Set 中自动被过滤：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; new Set([ 1 , 2 , 3 , 3 , &#39;3&#39;]);</span><br><span class="line">s; &#x2F;&#x2F; Set &#123;1, 2, 3, &quot;3&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>注意数字 3 和字符串 ‘3’ 是不同的元素。<br>通过 add(key) 方法可以添加元素到 Set 中，可以重复添加，但不会有效果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s.add( 4 );</span><br><span class="line">s; &#x2F;&#x2F; Set &#123;1, 2, 3, 4&#125;</span><br><span class="line">s.add( 4 );</span><br><span class="line">s; &#x2F;&#x2F; 仍然是 Set &#123;1, 2, 3, 4&#125;</span><br></pre></td></tr></table></figure>

<p>通过 delete(key) 方法可以删除元素：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; new Set([ 1 , 2 , 3 ]);</span><br><span class="line">s; &#x2F;&#x2F; Set &#123;1, 2, 3&#125;</span><br><span class="line">s.delete( 3 );</span><br><span class="line">s; &#x2F;&#x2F; Set &#123;1, 2&#125;</span><br></pre></td></tr></table></figure>




<h3 id="2-9、Iterable"><a href="#2-9、Iterable" class="headerlink" title="2.9、Iterable"></a>2.9、Iterable</h3><p>遍历 Array 可以采用下标循环，遍历Map 和 Set 就无法使用下标。</p>
<p>为了统一集合类型，ES6标准引入了新的 iterable 类型，Array，Map，Set 属于；<br>具有 iterable 类型的集合可以通过新的 for … of 循环来遍历。</p>
<blockquote>
<p>遍历集合</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;];</span><br><span class="line">var s &#x3D; new Set([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]);</span><br><span class="line">var m &#x3D; new Map([[ 1 , &#39;x&#39;], [ 2 , &#39;y&#39;], [ 3 , &#39;z&#39;]]);</span><br><span class="line"></span><br><span class="line">for (var x of a) &#123; &#x2F;&#x2F; 遍历Array</span><br><span class="line">	console.log(x);</span><br><span class="line">&#125;</span><br><span class="line">for (var x of s) &#123; &#x2F;&#x2F; 遍历Set</span><br><span class="line">	console.log(x);</span><br><span class="line">&#125;</span><br><span class="line">for (var x of m) &#123; &#x2F;&#x2F; 遍历Map</span><br><span class="line">	console.log(x[ 0 ] + &#39;&#x3D;&#39; + x[ 1 ]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>更好的方式是直接使用 iterable 内置的 forEach 方法，它接收一个函数，每次迭代就自动回调该<br>函数。以 Array 为例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a.forEach(function (element, index, array) &#123;</span><br><span class="line">    &#x2F;&#x2F; element: 指向当前元素的值</span><br><span class="line">    &#x2F;&#x2F; index: 指向当前索引</span><br><span class="line">    &#x2F;&#x2F; array: 指向Array对象本身</span><br><span class="line">console.log(element + &#39;, index &#x3D; &#39; + index);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>forEach() 方法是ES5.1标准引入的，你需要测试浏览器是否支持。</p>
<p>Set 没有索引，因此回调函数的前两个参数都是元素本身：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var s &#x3D; new Set([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]);</span><br><span class="line">s.forEach(function (element, sameElement, set) &#123;</span><br><span class="line">console.log(element);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<p>Map 的回调函数参数依次为 value 、 key 和 map 本身：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var m &#x3D; new Map([[ 1 , &#39;x&#39;], [ 2 , &#39;y&#39;], [ 3 , &#39;z&#39;]]);</span><br><span class="line">m.forEach(function (value, key, map) &#123;</span><br><span class="line">console.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>




<h2 id="3-、函数"><a href="#3-、函数" class="headerlink" title="3 、函数"></a>3 、函数</h2><h3 id="3-1、函数定义和调用"><a href="#3-1、函数定义和调用" class="headerlink" title="3.1、函数定义和调用"></a>3.1、函数定义和调用</h3><blockquote>
<p>1 、定义函数方式一</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function abs(x) &#123;</span><br><span class="line">    if (x &gt;&#x3D; 0 ) &#123;</span><br><span class="line">    return x;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">    return - x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>一旦执行到 return 时，函数就执行完毕，并将结果返回。</p>
<p>如果没有 return 语句，函数执行完毕后也会返回结果，只是结果为 undefined 。</p>
<blockquote>
<p>2 、第二种定义函数的方式如下</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var abs &#x3D; function (x) &#123;</span><br><span class="line">    if (x &gt;&#x3D; 0 ) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return - x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>在这种方式下， function (x) { … } 是一个匿名函数，它没有函数名。但是，这个匿名函数赋值<br>给了变量 abs ，所以，通过变量 abs 就可以调用该函数。</p>
<p>上述两种定义完全等价，注意第二种方式按照完整语法需要在函数体末尾加一个 ; ，表示赋值语句结<br>束。</p>
<blockquote>
<p>3 、调用函数</p>
</blockquote>
<p>调用函数时，按顺序传入参数即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">abs( 10 ); &#x2F;&#x2F; 返回 10</span><br><span class="line">abs(- 9 ); &#x2F;&#x2F; 返回 9</span><br></pre></td></tr></table></figure>

<p>由于JavaScript允许传入任意个参数而不影响调用，因此传入的参数比定义的参数多也没有问题，虽然函<br>数内部并不需要这些参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">abs( 10 , &#39;blablabla&#39;); &#x2F;&#x2F; 返回 10</span><br><span class="line">abs(- 9 , &#39;haha&#39;, &#39;hehe&#39;, null); &#x2F;&#x2F; 返回 9</span><br></pre></td></tr></table></figure>

<h4 id="传入的参数比定义的少也没有问题："><a href="#传入的参数比定义的少也没有问题：" class="headerlink" title="传入的参数比定义的少也没有问题："></a>传入的参数比定义的少也没有问题：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abs(); &#x2F;&#x2F; 返回NaN</span><br></pre></td></tr></table></figure>

<p>此时 abs(x) 函数的参数 x 将收到 undefined ，计算结果为 NaN 。</p>
<p>要避免收到 undefined ，可以对参数进行检查：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function abs(x) &#123;</span><br><span class="line">    if (typeof x !&#x3D;&#x3D; &#39;number&#39;) &#123;</span><br><span class="line">        throw &#39;Not a number&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (x &gt;&#x3D; 0 ) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return - x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<blockquote>
<p>3 、arguments</p>
</blockquote>
<p>JavaScript还有一个免费赠送的关键字 arguments ，它只在函数内部起作用，并且永远指向当前函数的调用者传入的所有参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function foo(x) &#123;</span><br><span class="line">    console.log(&#39;x &#x3D; &#39; + x); &#x2F;&#x2F; 10</span><br><span class="line">    for (var i&#x3D; 0 ; i&lt;arguments.length; i++) &#123;</span><br><span class="line">        console.log(&#39;arg &#39; + i + &#39; &#x3D; &#39; + arguments[i]); &#x2F;&#x2F; 10, 20, 30</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo( 10 , 20 , 30 );</span><br></pre></td></tr></table></figure>

<p>利用 arguments ，你可以获得调用者传入的所有参数。也就是说，即使函数不定义任何参数，还是可以拿到参数的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function abs() &#123;</span><br><span class="line">    if (arguments.length &#x3D;&#x3D;&#x3D; 0 ) &#123;</span><br><span class="line">        return 0 ;</span><br><span class="line">    &#125;</span><br><span class="line">    var x &#x3D; arguments[ 0 ];</span><br><span class="line">    return x &gt;&#x3D; 0? x : -x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abs(); &#x2F;&#x2F; 0</span><br><span class="line">abs( 10 ); &#x2F;&#x2F; 10</span><br><span class="line">abs(- 9 ); &#x2F;&#x2F; 9</span><br></pre></td></tr></table></figure>

<p>实际上 arguments 最常用于判断传入参数的个数。你可能会看到这样的写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; foo(a[, b], c)</span><br><span class="line">&#x2F;&#x2F; 接收2~3个参数，b是可选参数，如果只传 2 个参数，b默认为null：</span><br><span class="line">function foo(a, b, c) &#123;</span><br><span class="line">    if (arguments.length &#x3D;&#x3D;&#x3D; 2 ) &#123;</span><br><span class="line">    &#x2F;&#x2F; 实际拿到的参数是a和b，c为undefined</span><br><span class="line">    c &#x3D; b; &#x2F;&#x2F; 把b赋给c</span><br><span class="line">    b &#x3D; null; &#x2F;&#x2F; b变为默认值</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>rest参数</p>
</blockquote>
<p>由于JavaScript函数允许接收任意个参数，于是我们就不得不用 arguments 来获取所有参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function foo(a, b) &#123;</span><br><span class="line">var i, rest &#x3D; [];</span><br><span class="line">if (arguments.length &gt; 2 ) &#123;</span><br><span class="line">for (i &#x3D; 2 ; i&lt;arguments.length; i++) &#123;</span><br><span class="line">rest.push(arguments[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(&#39;a &#x3D; &#39; + a);</span><br><span class="line">console.log(&#39;b &#x3D; &#39; + b);</span><br><span class="line">console.log(rest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了获取除了已定义参数 a 、 b 之外的参数，我们不得不用 arguments ，并且循环要从索引<br>2 开始以便排除前两个参数，这种写法很别扭，只是为了获得额外的 rest 参数，有没有更好的方<br>法？</p>
<p>ES6标准引入了rest参数，上面的函数可以改写为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function foo(a, b, ...rest) &#123;</span><br><span class="line">console.log(&#39;a &#x3D; &#39; + a);</span><br><span class="line">console.log(&#39;b &#x3D; &#39; + b);</span><br><span class="line">console.log(rest);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo( 1 , 2 , 3 , 4 , 5 );</span><br><span class="line">&#x2F;&#x2F; 结果:</span><br><span class="line">&#x2F;&#x2F; a &#x3D; 1</span><br><span class="line">&#x2F;&#x2F; b &#x3D; 2</span><br><span class="line">&#x2F;&#x2F; Array [ 3, 4, 5 ]</span><br><span class="line"></span><br><span class="line">foo( 1 );</span><br><span class="line">&#x2F;&#x2F; 结果:</span><br><span class="line">&#x2F;&#x2F; a &#x3D; 1</span><br><span class="line">&#x2F;&#x2F; b &#x3D; undefined</span><br><span class="line">&#x2F;&#x2F; Array []</span><br></pre></td></tr></table></figure>

<p>rest参数只能写在最后，前面用 … 标识，从运行结果可知，传入的参数先绑定 a 、 b ，多余的<br>参数以数组形式交给变量 rest ，所以，不再需要 arguments 我们就获取了全部参数。</p>
<h3 id="3-2、变量作用域"><a href="#3-2、变量作用域" class="headerlink" title="3.2、变量作用域"></a>3.2、变量作用域</h3><blockquote>
<p> 变量的作用域</p>
</blockquote>
<p>在JavaScript中，用 var 申明的变量实际上是有作用域的。</p>
<p>如果一个变量在函数体内部申明，则该变量的作用域为整个函数体，在函数体外不可引用该变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    var x &#x3D; 1 ;</span><br><span class="line">    x &#x3D; x + 1 ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">x &#x3D; x + 2 ; &#x2F;&#x2F; ReferenceError! 无法在函数体外引用变量x</span><br></pre></td></tr></table></figure>


<p>如果两个不同的函数各自申明了同一个变量，那么该变量只在各自的函数体内起作用。换句话说，不同</p>
<h4 id="函数内部的同名变量互相独立，互不影响："><a href="#函数内部的同名变量互相独立，互不影响：" class="headerlink" title="函数内部的同名变量互相独立，互不影响："></a>函数内部的同名变量互相独立，互不影响：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    var x &#x3D; 1 ;</span><br><span class="line">    x &#x3D; x + 1 ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bar() &#123;</span><br><span class="line">    var x &#x3D; &#39;A&#39;;</span><br><span class="line">    x &#x3D; x + &#39;B&#39;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于JavaScript的函数可以嵌套，此时，内部函数可以访问外部函数定义的变量，反过来则不行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    var x &#x3D; 1 ;</span><br><span class="line">    function bar() &#123;</span><br><span class="line">        var y &#x3D; x + 1 ; &#x2F;&#x2F; bar可以访问foo的变量x!</span><br><span class="line">    &#125;</span><br><span class="line">    var z &#x3D; y + 1 ; &#x2F;&#x2F; ReferenceError! foo不可以访问bar的变量y!</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>如果内部函数和外部函数的变量名重名怎么办？来测试一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    var x &#x3D; 1 ;</span><br><span class="line">    function bar() &#123;</span><br><span class="line">        var x &#x3D; &#39;A&#39;;</span><br><span class="line">        console.log(&#39;x in bar() &#x3D; &#39; + x); &#x2F;&#x2F; &#39;A&#39;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(&#39;x in foo() &#x3D; &#39; + x); &#x2F;&#x2F; 1</span><br><span class="line">    bar();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>

<p>这说明JavaScript的函数在查找变量时从自身函数定义开始，从“内”向“外”查找。如果内部函数定义了与<br>外部函数重名的变量，则内部函数的变量将“屏蔽”外部函数的变量。</p>
<blockquote>
<p>变量提升</p>
</blockquote>
<p>JavaScript的函数定义有个特点，它会先扫描整个函数体的语句，把所有申明的变量“提升”到函数顶部：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    var x &#x3D; &#39;Hello, &#39; + y;</span><br><span class="line">    console.log(x);</span><br><span class="line">    var y &#x3D; &#39;Bob&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>

<p>结果：Hello, undefined ， 说明 y 的值为 undefined；</p>
<p>这正是因为JavaScript引擎自动提升了变量 y 的声明，但不会提升变量 y 的赋值。</p>
<p>对于上述 foo() 函数，JavaScript引擎看到的代码相当于：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    var y; &#x2F;&#x2F; 提升变量y的申明，此时y为undefined</span><br><span class="line">    var x &#x3D; &#39;Hello, &#39; + y;</span><br><span class="line">    console.log(x);</span><br><span class="line">    y &#x3D; &#39;Bob&#39;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于JavaScript的这一怪异的“特性”，我们在函数内部定义变量时，请严格遵守“在函数内部首先申明所有变量”这一规则。最常见的做法是用一个 var 申明函数内部用到的所有变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    var</span><br><span class="line">        x &#x3D; 1 , &#x2F;&#x2F; x初始化为 1</span><br><span class="line">        y &#x3D; x + 1 , &#x2F;&#x2F; y初始化为 2</span><br><span class="line">        z, i; &#x2F;&#x2F; z和i为undefined</span><br><span class="line">    &#x2F;&#x2F; 其他语句:</span><br><span class="line">    for (i&#x3D; 0 ; i&lt; 100 ; i++) &#123;</span><br><span class="line">    ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>全局作用域</p>
</blockquote>
<p>不在任何函数内定义的变量就具有全局作用域。实际上，JavaScript默认有一个全局对象 window ，全局作用域的变量实际上被绑定到 window 的一个属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">var course &#x3D; &#39;Learn JavaScript&#39;;</span><br><span class="line">alert(course); &#x2F;&#x2F; &#39;Learn JavaScript&#39;</span><br><span class="line">alert(window.course); &#x2F;&#x2F; &#39;Learn JavaScript</span><br></pre></td></tr></table></figure>


<p>因此，直接访问全局变量 course 和访问 window.course 是完全一样的。</p>
<p>因此，顶层函数的定义也被视为一个全局变量，并绑定到 window 对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    alert(&#39;foo&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); &#x2F;&#x2F; 直接调用foo()</span><br><span class="line">window.foo(); &#x2F;&#x2F; 通过window.foo()调用</span><br></pre></td></tr></table></figure>

<p>进一步大胆地猜测，我们每次直接调用的 alert() 函数其实也是 window 的一个变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">window.alert(&#39;调用window.alert()&#39;);</span><br><span class="line">&#x2F;&#x2F; 把alert保存到另一个变量:</span><br><span class="line">var old_alert &#x3D; window.alert;</span><br><span class="line">&#x2F;&#x2F; 给alert赋一个新函数:</span><br><span class="line">window.alert &#x3D; function () &#123;&#125;</span><br><span class="line">alert(&#39;无法用alert()显示了!&#39;);</span><br><span class="line">&#x2F;&#x2F; 恢复alert:</span><br><span class="line">window.alert &#x3D; old_alert;</span><br><span class="line">alert(&#39;又可以用alert()了!&#39;);</span><br></pre></td></tr></table></figure>


<p>这说明JavaScript实际上只有一个全局作用域。任何变量（函数也视为变量），如果没有在当前函数作用<br>域中找到，就会继续往上查找，最后如果在全局作用域中也没有找到，则报 ReferenceError 错误。</p>
<p>全局变量会绑定到 window 上，不同的JavaScript文件如果使用了相同的全局变量，或者定义了相同名</p>
<p>字的顶层函数，都会造成命名冲突，并且很难被发现。减少冲突的一个方法是把自己的所有变量和函数<br>全部绑定到一个全局变量中。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 唯一的全局变量MYAPP:</span><br><span class="line"></span><br><span class="line">var MYAPP &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 其他变量:</span><br><span class="line">MYAPP.name &#x3D; &#39;myapp&#39;;</span><br><span class="line">MYAPP.version &#x3D; 1.0;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 其他函数:</span><br><span class="line">MYAPP.foo &#x3D; function () &#123;</span><br><span class="line">return &#39;foo&#39;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<p>把自己的代码全部放入唯一的名字空间 MYAPP 中，会大大减少全局变量冲突的可能。</p>
<p>许多著名的JavaScript库都是这么干的：jQuery，YUI，underscore等等。</p>
<blockquote>
<p>局部作用域</p>
</blockquote>
<p>由于JavaScript的变量作用域实际上是函数内部，我们在 for 循环等语句块中是无法定义具有局部作</p>
<p>用域的变量的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    for (var i&#x3D; 0 ; i&lt; 100 ; i++) &#123;</span><br><span class="line">    &#x2F;&#x2F;</span><br><span class="line">    &#125;</span><br><span class="line">    i +&#x3D; 100 ; &#x2F;&#x2F; 仍然可以引用变量i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>为了解决块级作用域，ES6引入了新的关键字 let ，用 let 替代 var 可以申明一个块级作用域<br>的变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">var sum &#x3D; 0 ;</span><br><span class="line">for (let i&#x3D; 0 ; i&lt; 100 ; i++) &#123;</span><br><span class="line">sum +&#x3D; i;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; SyntaxError:</span><br><span class="line">i +&#x3D; 1 ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>常量</p>
</blockquote>
<p>由于 var 和 let 申明的是变量，如果要申明一个常量，在ES6之前是不行的，我们通常用全部大写<br>的变量来表示“这是一个常量，不要修改它的值”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var PI &#x3D; 3.14;</span><br></pre></td></tr></table></figure>

<p>ES6标准引入了新的关键字 const 来定义常量， const 与 let 都具有块级作用域：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const PI &#x3D; 3.14;</span><br><span class="line">PI &#x3D; 3 ; &#x2F;&#x2F; 某些浏览器不报错，但是无效果！</span><br><span class="line">PI; &#x2F;&#x2F; 3.14</span><br></pre></td></tr></table></figure>





<h3 id="3-3、方法"><a href="#3-3、方法" class="headerlink" title="3.3、方法"></a>3.3、方法</h3><blockquote>
<p>定义方法</p>
</blockquote>
<h4 id="在一个对象中绑定函数，称为这个对象的方法。"><a href="#在一个对象中绑定函数，称为这个对象的方法。" class="headerlink" title="在一个对象中绑定函数，称为这个对象的方法。"></a>在一个对象中绑定函数，称为这个对象的方法。</h4><p>在JavaScript中，对象的定义是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">name: &#39;小明&#39;,</span><br><span class="line">birth: 1990</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<p>但是，如果我们给 xiaoming 绑定一个函数，就可以做更多的事情。比如，写个 age() 方法，返<br>回 xiaoming 的年龄：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">name: &#39;小明&#39;,</span><br><span class="line">birth: 1990 ,</span><br><span class="line">age: function () &#123;</span><br><span class="line">    var y &#x3D; new Date().getFullYear();</span><br><span class="line">    return y - this.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age; &#x2F;&#x2F; function xiaoming.age()</span><br><span class="line">xiaoming.age(); &#x2F;&#x2F; 今年调用是25,明年调用就变成 26 了</span><br></pre></td></tr></table></figure>


<p>绑定到对象上的函数称为方法，和普通函数也没啥区别，但是它在内部使用了一个 this 关键字，这<br>个东东是什么？<br>在一个方法内部， this 是一个特殊变量，它始终指向当前对象，也就是 xiaoming 这个变量。所<br>以， this.birth 可以拿到 xiaoming 的 birth 属性。</p>
<p>让我们拆开写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function getAge() &#123;</span><br><span class="line">var y &#x3D; new Date().getFullYear();</span><br><span class="line">return y - this.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">name: &#39;小明&#39;,</span><br><span class="line">birth: 1990 ,</span><br><span class="line">age: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); &#x2F;&#x2F; 25, 正常结果</span><br><span class="line">getAge(); &#x2F;&#x2F; NaN</span><br></pre></td></tr></table></figure>

<p>单独调用函数 getAge() 怎么返回了 NaN ？请注意，我们已经进入到了JavaScript的一个大坑里。<br>JavaScript的函数内部如果调用了 this ，那么这个 this 到底指向谁？</p>
<p>答案是，视情况而定！</p>
<p>如果以对象的方法形式调用，比如 xiaoming.age() ，该函数的 this 指向被调用的对象，也就<br>是 xiaoming ，这是符合我们预期的。</p>
<p>如果单独调用函数，比如 getAge() ，此时，该函数的 this 指向全局对象，也就是 window 。</p>
<blockquote>
<p>apply</p>
</blockquote>
<p>不过，我们还是可以控制 this 的指向的！</p>
<p>要指定函数的 this 指向哪个对象，可以用函数本身的 apply 方法，它接收两个参数，第一个参数<br>就是需要绑定的 this 变量，第二个参数是 Array ，表示函数本身的参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function getAge() &#123;</span><br><span class="line">    var y &#x3D; new Date().getFullYear();</span><br><span class="line">    return y - this.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">    name: &#39;小明&#39;,</span><br><span class="line">    birth: 1990 ,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); &#x2F;&#x2F; 25</span><br><span class="line">getAge.apply(xiaoming, []); &#x2F;&#x2F; 25, this指向xiaoming, 参数为空</span><br></pre></td></tr></table></figure>


<h2 id="4-、标准对象"><a href="#4-、标准对象" class="headerlink" title="4 、标准对象"></a>4 、标准对象</h2><h3 id="4-1、标准对象"><a href="#4-1、标准对象" class="headerlink" title="4.1、标准对象"></a>4.1、标准对象</h3><p>在JavaScript的世界里，一切都是对象。</p>
<p>但是某些对象还是和其他对象不太一样。为了区分对象的类型，我们用 typeof 操作符获取对象的类<br>型，它总是返回一个字符串：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">typeof 123 ; &#x2F;&#x2F; &#39;number&#39;</span><br><span class="line">typeof NaN; &#x2F;&#x2F; &#39;number&#39;</span><br><span class="line">typeof &#39;str&#39;; &#x2F;&#x2F; &#39;string&#39;</span><br><span class="line">typeof true; &#x2F;&#x2F; &#39;boolean&#39;</span><br><span class="line">typeof undefined; &#x2F;&#x2F; &#39;undefined&#39;</span><br><span class="line">typeof Math.abs; &#x2F;&#x2F; &#39;function&#39;</span><br><span class="line">typeof null; &#x2F;&#x2F; &#39;object&#39;</span><br><span class="line">typeof []; &#x2F;&#x2F; &#39;object&#39;</span><br><span class="line">typeof &#123;&#125;; &#x2F;&#x2F; &#39;object&#39;</span><br></pre></td></tr></table></figure>



<h3 id="4-2、Date"><a href="#4-2、Date" class="headerlink" title="4.2、Date"></a>4.2、Date</h3><p>在JavaScript中， Date 对象用来表示日期和时间。</p>
<p>要获取系统当前时间，用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var now &#x3D; new Date();</span><br><span class="line">now; &#x2F;&#x2F; Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span><br><span class="line">now.getFullYear(); &#x2F;&#x2F; 2015, 年份</span><br><span class="line">now.getMonth(); &#x2F;&#x2F; 5, 月份，注意月份范围是0~11， 5 表示六月</span><br><span class="line">now.getDate(); &#x2F;&#x2F; 24, 表示 24 号</span><br><span class="line">now.getDay(); &#x2F;&#x2F; 3, 表示星期三</span><br><span class="line">now.getHours(); &#x2F;&#x2F; 19, 24小时制</span><br><span class="line">now.getMinutes(); &#x2F;&#x2F; 49, 分钟</span><br><span class="line">now.getSeconds(); &#x2F;&#x2F; 22, 秒</span><br><span class="line">now.getMilliseconds(); &#x2F;&#x2F; 875, 毫秒数</span><br><span class="line">now.getTime(); &#x2F;&#x2F; 1435146562875, 以number形式表示的时间戳</span><br></pre></td></tr></table></figure>

<p>注意，当前时间是浏览器从本机操作系统获取的时间，所以不一定准确，因为用户可以把当前时间设定为任何值。</p>
<h4 id="时区"><a href="#时区" class="headerlink" title="时区"></a>时区</h4><p>Date 对象表示的时间总是按浏览器所在时区显示的，不过我们既可以显示本地时间，也可以显示调</p>
<p>整后的UTC时间：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var d &#x3D; new Date( 1435146562875 );</span><br><span class="line">d.toLocaleString(); &#x2F;&#x2F; &#39;2015&#x2F;6&#x2F;24 下午7:49:22&#39;，本地时间（北京时区+8:00），显示的字</span><br><span class="line">符串与操作系统设定的格式有关</span><br><span class="line">d.toUTCString(); &#x2F;&#x2F; &#39;Wed, 24 Jun 2015 11:49:22 GMT&#39;，UTC时间，与本地时间相差 8 小时</span><br></pre></td></tr></table></figure>


<p>那么在JavaScript中如何进行时区转换呢？实际上，只要我们传递的是一个 number 类型的时间戳，我们就不用关心时区转换。任何浏览器都可以把一个时间戳正确转换为本地时间。</p>
<p>时间戳是个什么东西？时间戳是一个自增的整数，它表示从 1970 年 1 月 1 日零时整的GMT时区开始的那一刻，到现在的毫秒数。假设浏览器所在电脑的时间是准确的，那么世界上无论哪个时区的电脑，它们此刻产生的时间戳数字都是一样的，所以，时间戳可以精确地表示一个时刻，并且与时区无关。</p>
<p>所以，我们只需要传递时间戳，或者把时间戳从数据库里读出来，再让JavaScript自动转换为当地时间就<br>可以了。</p>
<p>要获取当前时间戳，可以用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ifDate.now()&#123;</span><br><span class="line">	console.log(Date.now());&#x2F;&#x2F; 老版本IE没用now()方法</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	console.log(new Date().getTime());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h3 id="4-3、JSON"><a href="#4-3、JSON" class="headerlink" title="4.3、JSON"></a>4.3、JSON</h3><ul>
<li>JSON(JavaScript Object Notation, JS 对象标记) 是一种轻量级的数据交换格式，目前使用特别广<br>泛。</li>
<li>采用完全独立于编程语言的 文本格式 来存储和表示数据。</li>
<li>简洁和清晰的层次结构使得 JSON 成为理想的数据交换语言。</li>
<li>易于人阅读和编写，同时也易于机器解析和生成，并有效地提升网络传输效率。</li>
</ul>
<p>在 JavaScript 语言中，一切都是对象。因此，任何JavaScript 支持的类型都可以通过 JSON 来表示，例如字符串、数字、对象、数组等。看看他的要求和语法格式：</p>
<ul>
<li>对象表示为键值对，数据由逗号分隔</li>
<li>花括号保存对象</li>
<li>方括号保存数组</li>
</ul>
<p><strong>JSON 键值对</strong> 是用来保存 JavaScript 对象的一种方式，和 JavaScript 对象的写法也大同小异，键/值对组合中的键名写在前面并用双引号 “” 包裹，使用冒号 : 分隔，然后紧接着值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;name&quot;: &quot;QinJiang&quot;&#125;</span><br><span class="line">&#123;&quot;age&quot;: &quot;3&quot;&#125;</span><br><span class="line">&#123;&quot;sex&quot;: &quot;男&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>很多人搞不清楚 JSON 和 JavaScript 对象的关系，甚至连谁是谁都不清楚。其实，可以这么理解：</p>
<ul>
<li>JSON 是 JavaScript 对象的字符串表示法，它使用文本表示一个 JS 对象的信息，本质是一个字符<br>串。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var obj &#x3D; &#123;a: &#39;Hello&#39;, b: &#39;World&#39;&#125;; &#x2F;&#x2F;这是一个对象，注意键名也是可以使用引号包裹</span><br><span class="line">的</span><br><span class="line">var json &#x3D; &#39;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#39;; &#x2F;&#x2F;这是一个 JSON 字符串，本质是一个</span><br><span class="line">字符串</span><br></pre></td></tr></table></figure>



<p><strong>JSON 和 JavaScript 对象互转</strong></p>
<ul>
<li>要实现从JSON字符串转换为JavaScript 对象，使用 JSON.parse() 方法：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var obj &#x3D; JSON.parse(&#39;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#39;);</span><br><span class="line">&#x2F;&#x2F;结果是 &#123;a: &#39;Hello&#39;, b: &#39;World&#39;&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>要实现从JavaScript 对象转换为JSON字符串，使用 JSON.stringify() 方法：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var json &#x3D; JSON.stringify(&#123;a: &#39;Hello&#39;, b: &#39;World&#39;&#125;);</span><br><span class="line">&#x2F;&#x2F;结果是 &#39;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#39;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="代码测试"><a href="#代码测试" class="headerlink" title="代码测试"></a>代码测试</h4><ol>
<li>新建一个 json-1.html ， 编写测试内容<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;JSON_秦疆&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">&#x2F;&#x2F;编写一个js的对象</span><br><span class="line">var user &#x3D; &#123;</span><br><span class="line">name:&quot;秦疆&quot;,</span><br><span class="line">age: 3 ,</span><br><span class="line">sex:&quot;男&quot;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F;将js对象转换成json字符串</span><br><span class="line">var str &#x3D; JSON.stringify(user);</span><br><span class="line">console.log(str);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;将json字符串转换为js对象</span><br><span class="line">var user2 &#x3D; JSON.parse(str);</span><br><span class="line">console.log(user2.age,user2.name,user2.sex);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="2">
<li>在IDEA中使用浏览器打开，查看控制台输出！</li>
</ol>
<h2 id="5-、面向对象编程"><a href="#5-、面向对象编程" class="headerlink" title="5 、面向对象编程"></a>5 、面向对象编程</h2><blockquote>
<p>面向对象编程</p>
</blockquote>
<p>JavaScript的面向对象编程和大多数其他语言如Java、C#的面向对象编程都不太一样。如果你熟悉Java或C#，很好，你一定明白面向对象的两个基本概念：</p>
<ol>
<li>类：类是对象的类型模板，例如，定义 Student 类来表示学生，类本身是一种类型，<br>Student 表示学生类型，但不表示任何具体的某个学生；</li>
<li>实例：实例是根据类创建的对象，例如，根据 Student 类可以创建出 xiaoming 、<br>xiaohong 、 xiaojun 等多个实例，每个实例表示一个具体的学生，他们全都属于<br>Student 类型。</li>
</ol>
<p>所以，类和实例是大多数面向对象编程语言的基本概念。</p>
<p>不过，在JavaScript中，这个概念需要改一改。JavaScript不区分类和实例的概念，而是通过原型<br>（prototype）来实现面向对象编程。</p>
<p>原型是指当我们想要创建 xiaoming 这个具体的学生时，我们并没有一个 Student 类型可用。那怎<br>么办？恰好有这么一个现成的对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var robot &#x3D; &#123;</span><br><span class="line">name: &#39;Robot&#39;,</span><br><span class="line">height: 1.6,</span><br><span class="line">run: function () &#123;</span><br><span class="line">console.log(this.name + &#39; is running...&#39;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<p>我们看这个 robot 对象有名字，有身高，还会跑，有点像小明，干脆就根据它来“创建”小明得了！</p>
<p>于是我们把它改名为 Student ，然后创建出 xiaoming ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var Student &#x3D; &#123;</span><br><span class="line">name: &#39;Robot&#39;,</span><br><span class="line">height: 1.2,</span><br><span class="line">run: function () &#123;</span><br><span class="line">console.log(this.name + &#39; is running...&#39;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming &#x3D; &#123;</span><br><span class="line">name: &#39;小明&#39;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.__proto__ &#x3D; Student;</span><br></pre></td></tr></table></figure>

<p>注意最后一行代码把 xiaoming 的原型指向了对象 Student ，看上去 xiaoming 仿佛是从<br>Student 继承下来的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.name; &#x2F;&#x2F; &#39;小明&#39;</span><br><span class="line">xiaoming.run(); &#x2F;&#x2F; 小明 is running...</span><br></pre></td></tr></table></figure>

<p>xiaoming 有自己的 name 属性，但并没有定义 run() 方法。不过，由于小明是从 Student<br>继承而来，只要 Student 有 run() 方法， xiaoming 也可以调用：</p>
<p>JavaScript的原型链和Java的Class区别就在，它没有“Class”的概念，所有对象都是实例，所谓继承关系<br>不过是把一个对象的原型指向另一个对象而已。</p>
<p>如果你把 xiaoming 的原型指向其他对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var Bird &#x3D; &#123;</span><br><span class="line">fly: function () &#123;</span><br><span class="line">console.log(this.name + &#39; is flying...&#39;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.__proto__ &#x3D; Bird;</span><br></pre></td></tr></table></figure>

<p>现在 xiaoming 已经无法 run() 了，他已经变成了一只鸟：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 xiaoming.fly(); &#x2F;&#x2F; 小明 is flying...</span><br></pre></td></tr></table></figure>

<p>在JavaScrip代码运行时期，你可以把 xiaoming 从 Student 变成 Bird ，或者变成任何对象。</p>
<blockquote>
<p>class 继承</p>
</blockquote>
<p>在上面的章节中我们看到了JavaScript的对象模型是基于原型实现的，特点是简单，缺点是理解起来比传<br>统的类－实例模型要困难，最大的缺点是继承的实现需要编写大量代码，并且需要正确实现原型链。</p>
<p>有没有更简单的写法？有！</p>
<p>新的关键字 class 从ES6开始正式被引入到JavaScript中。 class 的目的就是让定义类更简单。</p>
<p>我们先回顾用函数实现 Student 的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function Student(name) &#123;</span><br><span class="line">this.name &#x3D; name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 现在要给这个Student新增一个方法</span><br><span class="line"></span><br><span class="line">Student.prototype.hello &#x3D; function () &#123;</span><br><span class="line">alert(&#39;Hello, &#39; + this.name + &#39;!&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>如果用新的 class 关键字来编写 Student ，可以这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Student &#123;</span><br><span class="line">constructor(name) &#123;</span><br><span class="line">this.name &#x3D; name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hello() &#123;</span><br><span class="line">alert(&#39;Hello, &#39; + this.name + &#39;!&#39;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>比较一下就可以发现， class 的定义包含了构造函数 constructor 和定义在原型对象上的函数<br>hello() （注意没有 function 关键字），这样就避免了 Student.prototype.hello =<br>function () {…} 这样分散的代码。</p>
<p>最后，创建一个 Student 对象代码和前面章节完全一样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming &#x3D; new Student(&#39;小明&#39;);</span><br><span class="line">xiaoming.hello();</span><br></pre></td></tr></table></figure>


<blockquote>
<p>class继承</p>
</blockquote>
<p>用 class 定义对象的另一个巨大的好处是继承更方便了。想一想我们从 Student 派生一个<br>PrimaryStudent 需要编写的代码量。现在，原型继承的中间对象，原型对象的构造函数等等都不需<br>要考虑了，直接通过 extends 来实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class PrimaryStudent extends Student &#123;</span><br><span class="line">constructor(name, grade) &#123;</span><br><span class="line">super(name); &#x2F;&#x2F; 记得用super调用父类的构造方法!</span><br><span class="line">this.grade &#x3D; grade;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">myGrade() &#123;</span><br><span class="line">alert(&#39;I am at grade &#39; + this.grade);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h2 id="6-、操作BOM"><a href="#6-、操作BOM" class="headerlink" title="6 、操作BOM"></a>6 、操作BOM</h2><h3 id="6-1、浏览器"><a href="#6-1、浏览器" class="headerlink" title="6.1、浏览器"></a>6.1、浏览器</h3><p>由于JavaScript的出现就是为了能在浏览器中运行，所以，浏览器自然是JavaScript开发者必须要关注<br>的。</p>
<p>目前主流的浏览器分这么几种：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- IE 6~11：国内用得最多的IE浏览器，历来对W3C标准支持差。从IE10开始支持ES6标准；</span><br><span class="line">- Chrome：Google出品的基于Webkit内核浏览器，内置了非常强悍的JavaScript引擎——V8。由于</span><br><span class="line">Chrome一经安装就时刻保持自升级，所以不用管它的版本，最新版早就支持ES6了；</span><br><span class="line">- Safari：Apple的Mac系统自带的基于Webkit内核的浏览器，从OS X 10.7 Lion自带的6.1版本开始</span><br><span class="line">支持ES6，目前最新的OS X 10.11 El Capitan自带的Safari版本是9.x，早已支持ES6；</span><br><span class="line">- Firefox：Mozilla自己研制的Gecko内核和JavaScript引擎OdinMonkey。早期的Firefox按版本发</span><br><span class="line">布，后来终于聪明地学习Chrome的做法进行自升级，时刻保持最新；</span><br><span class="line">- 移动设备上目前iOS和Android两大阵营分别主要使用Apple的Safari和Google的Chrome，由于两</span><br><span class="line">者都是Webkit核心，结果HTML5首先在手机上全面普及（桌面绝对是Microsoft拖了后腿），对</span><br><span class="line">JavaScript的标准支持也很好，最新版本均支持ES6。</span><br></pre></td></tr></table></figure>
<p>其他浏览器如Opera等由于市场份额太小就被自动忽略了。</p>
<p>另外还要注意识别各种国产浏览器，如某某安全浏览器，某某旋风浏览器，它们只是做了一个壳，其核<br>心调用的是IE，也有号称同时支持IE和Webkit的“双核”浏览器。</p>
<p>不同的浏览器对JavaScript支持的差异主要是，有些API的接口不一样，比如AJAX，File接口。对于ES6标<br>准，不同的浏览器对各个特性支持也不一样。</p>
<p>在编写JavaScript的时候，就要充分考虑到浏览器的差异，尽量让同一份JavaScript代码能运行在不同的<br>浏览器中。</p>
<p>JavaScript可以获取浏览器提供的很多对象，并进行操作。</p>
<h3 id="6-2、window"><a href="#6-2、window" class="headerlink" title="6.2、window"></a>6.2、window</h3><p>window 对象不但充当全局作用域，而且表示浏览器窗口。</p>
<p>window 对象有 innerWidth 和 innerHeight 属性，可以获取浏览器窗口的内部宽度和高度。</p>
<p>内部宽高是指除去菜单栏、工具栏、边框等占位元素后，用于显示网页的净宽高。</p>
<p>兼容性：IE&lt;=8不支持。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 可以调整浏览器窗口大小试试:</span><br><span class="line">console.log(&#39;window inner size: &#39; + window.innerWidth + &#39; x &#39; +</span><br><span class="line">window.innerHeight);</span><br></pre></td></tr></table></figure>

<p>对应的，还有一个 outerWidth 和 outerHeight 属性，可以获取浏览器窗口的整个宽高。</p>
<h3 id="6-3、navigator"><a href="#6-3、navigator" class="headerlink" title="6.3、navigator"></a>6.3、navigator</h3><p>navigator 对象表示浏览器的信息，最常用的属性包括：</p>
<ul>
<li>navigator.appName：浏览器名称；</li>
<li>navigator.appVersion：浏览器版本；</li>
<li>navigator.language：浏览器设置的语言；</li>
<li>navigator.platform：操作系统类型；</li>
<li>navigator.userAgent：浏览器设定的 User-Agent 字符串。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#39;appName &#x3D; &#39; + navigator.appName);</span><br><span class="line">console.log(&#39;appVersion &#x3D; &#39; + navigator.appVersion);</span><br><span class="line">console.log(&#39;language &#x3D; &#39; + navigator.language);</span><br><span class="line">console.log(&#39;platform &#x3D; &#39; + navigator.platform);</span><br><span class="line">console.log(&#39;userAgent &#x3D; &#39; + navigator.userAgent);</span><br></pre></td></tr></table></figure>


<p>请注意， navigator 的信息可以很容易地被用户修改，所以JavaScript读取的值不一定是正确的。很<br>多初学者为了针对不同浏览器编写不同的代码，喜欢用 if 判断浏览器版本，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var width;</span><br><span class="line">if (getIEVersion(navigator.userAgent) &lt; 9 ) &#123;</span><br><span class="line">width &#x3D; document.body.clientWidth;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">width &#x3D; window.innerWidth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>但这样既可能判断不准确，也很难维护代码。正确的方法是充分利用JavaScript对不存在属性返回<br>undefined 的特性，直接用短路运算符 ||计算：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var width &#x3D; window.innerWidth || document.body.clientWidth;</span><br></pre></td></tr></table></figure>

<h3 id="6-4、screen"><a href="#6-4、screen" class="headerlink" title="6.4、screen"></a>6.4、screen</h3><p>screen 对象表示屏幕的信息，常用的属性有：</p>
<ul>
<li>screen.width：屏幕宽度，以像素为单位；</li>
<li>screen.height：屏幕高度，以像素为单位；</li>
<li>screen.colorDepth：返回颜色位数，如 8 、 16 、 24 。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 console.log(&#39;Screen size &#x3D; &#39; + screen.width + &#39; x &#39; + screen.height);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="6-5、location"><a href="#6-5、location" class="headerlink" title="6.5、location"></a>6.5、location</h3><p>location 对象表示当前页面的URL信息。例如，一个完整的URL：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.example.com:8080&#x2F;path&#x2F;index.html?a&#x3D;1&amp;b&#x3D;2#TOP</span><br></pre></td></tr></table></figure>

<p>可以用 location.href 获取。要获得URL各个部分的值，可以这么写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location.protocol; &#x2F;&#x2F; &#39;http&#39;</span><br><span class="line">location.host; &#x2F;&#x2F; &#39;www.example.com&#39;</span><br><span class="line">location.port; &#x2F;&#x2F; &#39;8080&#39;</span><br><span class="line">location.pathname; &#x2F;&#x2F; &#39;&#x2F;path&#x2F;index.html&#39;</span><br><span class="line">location.search; &#x2F;&#x2F; &#39;?a&#x3D;1&amp;b&#x3D;2&#39;</span><br><span class="line">location.hash; &#x2F;&#x2F; &#39;TOP&#39;</span><br></pre></td></tr></table></figure>

<p>要加载一个新页面，可以调用 location.assign() 。如果要重新加载当前页面，调用<br>location.reload() 方法非常方便。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location.reload();</span><br><span class="line">location.assign(&#39;https:&#x2F;&#x2F;blog.kuangstudy.com&#x2F;&#39;); &#x2F;&#x2F; 设置一个新的URL地址</span><br></pre></td></tr></table></figure>





<h3 id="6-6、document"><a href="#6-6、document" class="headerlink" title="6.6、document"></a>6.6、document</h3><p>document 对象表示当前页面。由于HTML在浏览器中以DOM形式表示为树形结构， document 对<br>象就是整个DOM树的根节点。</p>
<p>document 的 title 属性是从HTML文档中的 xxx 读取的，但是可以动态改变：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.title &#x3D; &#39;Java!&#39;;</span><br></pre></td></tr></table></figure>



<h4 id="请观察浏览器窗口标题的变化。"><a href="#请观察浏览器窗口标题的变化。" class="headerlink" title="请观察浏览器窗口标题的变化。"></a>请观察浏览器窗口标题的变化。</h4><p>要查找DOM树的某个节点，需要从 document 对象开始查找。最常用的查找是根据ID和Tag Name。</p>
<p>我们先准备HTML数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;dl id&#x3D;&quot;code-menu&quot; style&#x3D;&quot;border:solid 1px #ccc;padding:6px;&quot;&gt;</span><br><span class="line">&lt;dt&gt;Java&lt;&#x2F;dt&gt;</span><br><span class="line">&lt;dd&gt;Spring&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dt&gt;Python&lt;&#x2F;dt&gt;</span><br><span class="line">&lt;dd&gt;Django&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;dt&gt;Linux&lt;&#x2F;dt&gt;</span><br><span class="line">&lt;dd&gt;Docker&lt;&#x2F;dd&gt;</span><br><span class="line">&lt;&#x2F;dl&gt;</span><br></pre></td></tr></table></figure>


<p>用 document 对象提供的 getElementById() 和 getElementsByTagName() 可以按ID获得一个<br>DOM节点和按Tag名称获得一组DOM节点：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var menu &#x3D; document.getElementById(&#39;code-menu&#39;);</span><br><span class="line">var drinks &#x3D; document.getElementsByTagName(&#39;dt&#39;);</span><br><span class="line">var i, s;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s &#x3D; &#39;提供的饮料有:&#39;;</span><br><span class="line">for (i&#x3D; 0 ; i&lt;drinks.length; i++) &#123;</span><br><span class="line">s &#x3D; s + drinks[i].innerHTML + &#39;,&#39;;</span><br><span class="line">&#125;</span><br><span class="line">console.log(s);</span><br></pre></td></tr></table></figure>


<p>document 对象还有一个 cookie 属性，可以获取当前页面的Cookie。</p>
<p>Cookie是由服务器发送的key-value标示符。因为HTTP协议是无状态的，但是服务器要区分到底是哪个用户发过来的请求，就可以用Cookie来区分。当一个用户成功登录后，服务器发送一个Cookie给浏览器，例如 user=ABC123XYZ(加密的字符串)… ，此后，浏览器访问该网站时，会在请求头附上这个Cookie，服务器根据Cookie即可区分出用户。<br>Cookie还可以存储网站的一些设置，例如，页面显示的语言等等。</p>
<p>JavaScript可以通过 document.cookie 读取到当前页面的Cookie：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 document.cookie; &#x2F;&#x2F; &#39;v&#x3D;123; remember&#x3D;true; prefer&#x3D;zh&#39;</span><br></pre></td></tr></table></figure>

<p>由于JavaScript能读取到页面的Cookie，而用户的登录信息通常也存在Cookie中，这就造成了巨大的安<br>全隐患，这是因为在HTML页面中引入第三方的JavaScript代码是允许的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--www.example.com--&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;http:&#x2F;&#x2F;www.foo.com&#x2F;jquery.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">...</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>



<p>如果引入的第三方的JavaScript中存在恶意代码，则 <a target="_blank" rel="noopener" href="http://www.foo.com/">http://www.foo.com</a> 网站将直接获取到<a target="_blank" rel="noopener" href="http://www.example.com/">http://www.example.com</a> 网站的用户登录信息。</p>
<p>为了解决这个问题，服务器在设置Cookie时可以使用 httpOnly ，设定了 httpOnly 的Cookie将不<br>能被JavaScript读取。这个行为由浏览器实现，主流浏览器均支持 httpOnly 选项，IE从IE6 SP1开始<br>支持。</p>
<p>为了确保安全，服务器端在设置Cookie时，应该始终坚持使用 httpOnly 。</p>
<h3 id="6-7、history"><a href="#6-7、history" class="headerlink" title="6.7、history"></a>6.7、history</h3><p>history 对象保存了浏览器的历史记录，JavaScript可以调用 history 对象的 back() 或<br>forward () ，相当于用户点击了浏览器的“后退”或“前进”按钮。</p>
<p>这个对象属于历史遗留对象，对于现代Web页面来说，由于大量使用AJAX和页面交互，简单粗暴地调<br>用 history.back() 可能会让用户感到非常愤怒。</p>
<p>新手开始设计Web页面时喜欢在登录页登录成功时调用 history.back() ，试图回到登录前的页面。<br>这是一种错误的方法。</p>
<p>任何情况，你都不应该使用 history 这个对象了。</p>
<h2 id="7-、操作DOM"><a href="#7-、操作DOM" class="headerlink" title="7 、操作DOM"></a>7 、操作DOM</h2><h3 id="7-1、选择器"><a href="#7-1、选择器" class="headerlink" title="7.1、选择器"></a>7.1、选择器</h3><p>由于HTML文档被浏览器解析后就是一棵DOM树，要改变HTML的结构，就需要通过JavaScript来操作DOM。</p>
<p>始终记住DOM是一个树形结构。操作一个DOM节点实际上就是这么几个操作：</p>
<ul>
<li>更新：更新该DOM节点的内容，相当于更新了该DOM节点表示的HTML的内容；</li>
<li>遍历：遍历该DOM节点下的子节点，以便进行进一步操作；</li>
<li>添加：在该DOM节点下新增一个子节点，相当于动态增加了一个HTML节点；</li>
<li>删除：将该节点从HTML中删除，相当于删掉了该DOM节点的内容以及它包含的所有子节点。</li>
</ul>
<p>在操作一个DOM节点前，我们需要通过各种方式先拿到这个DOM节点。最常用的方法是<br>document.getElementById() 和 document.getElementsByTagName() ，以及CSS选择器<br>document.getElementsByClassName() 。</p>
<p>由于ID在HTML文档中是唯一的，所以 document.getElementById() 可以直接定位唯一的一个DOM<br>节点。 document.getElementsByTagName() 和 document.getElementsByClassName() 总是返<br>回一组DOM节点。要精确地选择DOM，可以先定位父节点，再从父节点开始选择，以缩小范围。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 返回ID为&#39;test&#39;的节点：</span><br><span class="line">var test &#x3D; document.getElementById(&#39;test&#39;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 先定位ID为&#39;test-table&#39;的节点，再返回其内部所有tr节点：</span><br><span class="line">var trs &#x3D; document.getElementById(&#39;test-table&#39;).getElementsByTagName(&#39;tr&#39;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 先定位ID为&#39;test-div&#39;的节点，再返回其内部所有class包含red的节点：</span><br><span class="line">var reds &#x3D; document.getElementById(&#39;test-</span><br><span class="line">div&#39;).getElementsByClassName(&#39;red&#39;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 获取节点test下的所有直属子节点:</span><br><span class="line">var cs &#x3D; test.children;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 获取节点test下第一个、最后一个子节点：</span><br><span class="line">var first &#x3D; test.firstElementChild;</span><br><span class="line">var last &#x3D; test.lastElementChild;</span><br></pre></td></tr></table></figure>



<p>第二种方法是使用 querySelector() 和 querySelectorAll() ，需要了解selector语法，然后使<br>用条件来获取节点，更加方便：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 通过querySelector获取ID为q1的节点：</span><br><span class="line">var q1 &#x3D; document.querySelector(&#39;#q1&#39;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 通过querySelectorAll获取q1节点内的符合条件的所有节点：</span><br><span class="line">var ps &#x3D; q1.querySelectorAll(&#39;div.highlighted &gt; p&#39;);</span><br></pre></td></tr></table></figure>

<p>注意：低版本的IE&lt;8不支持 querySelector 和 querySelectorAll 。IE8仅有限支持。</p>
<h3 id="7-2、更新DOM"><a href="#7-2、更新DOM" class="headerlink" title="7.2、更新DOM"></a>7.2、更新DOM</h3><p>拿到一个DOM节点后，我们可以对它进行更新。</p>
<p>可以直接修改节点的文本，方法有两种：</p>
<p>一种是修改 innerHTML 属性，这个方式非常强大，不但可以修改一个DOM节点的文本内容，还可以直接通过HTML片段修改DOM节点内部的子树：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 获取&lt;p id&#x3D;&quot;p-id&quot;&gt;...&lt;&#x2F;p&gt;</span><br><span class="line">var p &#x3D; document.getElementById(&#39;p-id&#39;);</span><br><span class="line">&#x2F;&#x2F; 设置文本为abc:</span><br><span class="line">p.innerHTML &#x3D; &#39;ABC&#39;; &#x2F;&#x2F; &lt;p id&#x3D;&quot;p-id&quot;&gt;ABC&lt;&#x2F;p&gt;</span><br><span class="line">&#x2F;&#x2F; 设置HTML:</span><br><span class="line">p.innerHTML &#x3D; &#39;ABC &lt;span style&#x3D;&quot;color:red&quot;&gt;RED&lt;&#x2F;span&gt; XYZ&#39;;</span><br><span class="line">&#x2F;&#x2F; &lt;p&gt;...&lt;&#x2F;p&gt;的内部结构已修改</span><br></pre></td></tr></table></figure>

<p>用 innerHTML 时要注意，是否需要写入HTML。如果写入的字符串是通过网络拿到了，要注意对字符编码来避免XSS攻击。</p>
<p>第二种是修改 innerText 属性，这样可以自动对字符串进行HTML编码，保证无法设置任何HTML标签：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 获取&lt;p id&#x3D;&quot;p-id&quot;&gt;...&lt;&#x2F;p&gt;</span><br><span class="line">var p &#x3D; document.getElementById(&#39;p-id&#39;);</span><br><span class="line">&#x2F;&#x2F; 设置文本:</span><br><span class="line">p.innerText &#x3D; &#39;&lt;script&gt;alert(&quot;Hi&quot;)&lt;&#x2F;script&gt;&#39;;</span><br><span class="line">&#x2F;&#x2F; HTML被自动编码，无法设置一个&lt;script&gt;节点:</span><br><span class="line">&#x2F;&#x2F; &lt;p id&#x3D;&quot;p-id&quot;&gt;&lt;script&gt;alert(&quot;Hi&quot;)&lt;&#x2F;script&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>


<p>修改CSS也是经常需要的操作。DOM节点的 style 属性对应所有的CSS，可以直接获取或设置。因为<br>CSS允许 font-size 这样的名称，但它并非JavaScript有效的属性名，所以需要在JavaScript中改写为<br>驼峰式命名 fontSize ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 获取&lt;p id&#x3D;&quot;p-id&quot;&gt;...&lt;&#x2F;p&gt;</span><br><span class="line">var p &#x3D; document.getElementById(&#39;p-id&#39;);</span><br><span class="line">&#x2F;&#x2F; 设置CSS:</span><br><span class="line">p.style.color &#x3D; &#39;#ff0000&#39;;</span><br><span class="line">p.style.fontSize &#x3D; &#39;20px&#39;;</span><br><span class="line">p.style.paddingTop &#x3D; &#39;2em&#39;;</span><br></pre></td></tr></table></figure>



<h3 id="7-3、插入DOM"><a href="#7-3、插入DOM" class="headerlink" title="7.3、插入DOM"></a>7.3、插入DOM</h3><blockquote>
<p>appendChild</p>
</blockquote>
<p>当我们获得了某个DOM节点，想在这个DOM节点内插入新的DOM，应该如何做？</p>
<p>如果这个DOM节点是空的，例如， <code>，那么，直接使用 innerHTML = &#39;child&#39;</code>就可以修改DOM节点的内容，相当于“插入”了新的DOM节点。</p>
<p>如果这个DOM节点不是空的，那就不能这么做，因为 innerHTML 会直接替换掉原来的所有子节点。有两个办法可以插入新的节点。一个是使用 appendChild ，把一个子节点添加到父节点的最后一个子节点。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;js&quot;&gt;JavaScript&lt;&#x2F;p&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;list&quot;&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;java&quot;&gt;Java&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;python&quot;&gt;Python&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;scheme&quot;&gt;Scheme&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>


<p>把 JavaScript 添加到的最后一项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var</span><br><span class="line">js &#x3D; document.getElementById(&#39;js&#39;),</span><br><span class="line">list &#x3D; document.getElementById(&#39;list&#39;);</span><br><span class="line">list.appendChild(js);</span><br></pre></td></tr></table></figure>


<p>现在，HTML结构变成了这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id&#x3D;&quot;list&quot;&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;java&quot;&gt;Java&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;python&quot;&gt;Python&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;scheme&quot;&gt;Scheme&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;js&quot;&gt;JavaScript&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<p>因为我们插入的 js 节点已经存在于当前的文档树，因此这个节点首先会从原先的位置删除，再插入<br>到新的位置。</p>
<p>更多的时候我们会从零创建一个新的节点，然后插入到指定位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var</span><br><span class="line">list &#x3D; document.getElementById(&#39;list&#39;),</span><br><span class="line">haskell &#x3D; document.createElement(&#39;p&#39;);</span><br><span class="line">haskell.id &#x3D; &#39;haskell&#39;;</span><br><span class="line">haskell.innerText &#x3D; &#39;Haskell&#39;;</span><br><span class="line">list.appendChild(haskell);</span><br></pre></td></tr></table></figure>

<p>这样我们就动态添加了一个新的节点：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!-- HTML结构 --&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id&#x3D;&quot;list&quot;&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;java&quot;&gt;Java&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;python&quot;&gt;Python&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;scheme&quot;&gt;Scheme&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;haskell&quot;&gt;Haskell&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>


<p>动态创建一个节点然后添加到DOM树中，可以实现很多功能。举个例子，下面的代码动态创建了一个节点，然后把它添加到 节点的末尾，这样就动态地给文档添加了新的CSS定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var d &#x3D; document.createElement(&#39;style&#39;);</span><br><span class="line">d.setAttribute(&#39;type&#39;, &#39;text&#x2F;css&#39;);</span><br><span class="line">d.innerHTML &#x3D; &#39;p &#123; color: red &#125;&#39;;</span><br><span class="line">&#x2F;&#x2F;head 头部标签</span><br><span class="line">document.getElementsByTagName(&#39;head&#39;)[ 0 ].appendChild(d);</span><br></pre></td></tr></table></figure>


<p>可以在Chrome的控制台执行上述代码，观察页面样式的变化。</p>
<blockquote>
<p>insertBefore</p>
</blockquote>
<p>如果我们要把子节点插入到指定的位置怎么办？可以使用<br>parentElement.insertBefore(newElement, referenceElement); ，子节点会插入到<br>referenceElement 之前。</p>
<p>还是以上面的HTML为例，假定我们要把 Haskell 插入到 Python 之前：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div id&#x3D;&quot;list&quot;&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;java&quot;&gt;Java&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;python&quot;&gt;Python&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;scheme&quot;&gt;Scheme&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>可以这么写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var</span><br><span class="line">list &#x3D; document.getElementById(&#39;list&#39;),</span><br><span class="line">ref &#x3D; document.getElementById(&#39;python&#39;),</span><br><span class="line">haskell &#x3D; document.createElement(&#39;p&#39;);</span><br><span class="line">haskell.id &#x3D; &#39;haskell&#39;;</span><br><span class="line">haskell.innerText &#x3D; &#39;Haskell&#39;;</span><br><span class="line">list.insertBefore(haskell, ref);</span><br></pre></td></tr></table></figure>


<p>新的HTML结构如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id&#x3D;&quot;list&quot;&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;java&quot;&gt;Java&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;haskell&quot;&gt;Haskell&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;python&quot;&gt;Python&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;scheme&quot;&gt;Scheme&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>




<h3 id="7-4、删除DOM"><a href="#7-4、删除DOM" class="headerlink" title="7.4、删除DOM"></a>7.4、删除DOM</h3><p>删除一个DOM节点就比插入要容易得多。</p>
<p>要删除一个节点，首先要获得该节点本身以及它的父节点，然后，调用父节点的 removeChild 把自<br>己删掉：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 拿到待删除节点:</span><br><span class="line">var self &#x3D; document.getElementById(&#39;to-be-removed&#39;);</span><br><span class="line">&#x2F;&#x2F; 拿到父节点:</span><br><span class="line">var parent &#x3D; self.parentElement;</span><br><span class="line">&#x2F;&#x2F; 删除:</span><br><span class="line">var removed &#x3D; parent.removeChild(self);</span><br><span class="line">removed &#x3D;&#x3D;&#x3D; self; &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<p>注意到删除后的节点虽然不在文档树中了，但其实它还在内存中，可以随时再次被添加到别的位置。</p>
<p>当你遍历一个父节点的子节点并进行删除操作时，要注意， children 属性是一个只读属性，并且它<br>在子节点变化时会实时更新。</p>
<p>例如，对于如下HTML结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;parent&quot;&gt;</span><br><span class="line">&lt;p&gt;First&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;Second&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>当我们用如下代码删除子节点时：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var parent &#x3D; document.getElementById(&#39;parent&#39;);</span><br><span class="line">parent.removeChild(parent.children[ 0 ]);</span><br><span class="line">parent.removeChild(parent.children[ 1 ]); &#x2F;&#x2F; &lt;-- 浏览器报错</span><br></pre></td></tr></table></figure>


<p>浏览器报错： parent.children[1] 不是一个有效的节点。原因就在于，当 First 节点被删除<br>后， parent.children 的节点数量已经从 2 变为了 1 ，索引 [1] 已经不存在了。</p>
<p>因此，删除多个节点时，要注意 children 属性时刻都在变化。</p>
<h2 id="8-、操作表单"><a href="#8-、操作表单" class="headerlink" title="8 、操作表单"></a>8 、操作表单</h2><h3 id="8-1、回顾"><a href="#8-1、回顾" class="headerlink" title="8.1、回顾"></a>8.1、回顾</h3><p>用JavaScript操作表单和操作DOM是类似的，因为表单本身也是DOM树。</p>
<p>不过表单的输入框、下拉框等可以接收用户输入，所以用JavaScript来操作表单，可以获得用户输入的内容，或者对一个输入框设置新的内容。</p>
<p>HTML表单的输入控件主要有以下几种：</p>
<ul>
<li>文本框，对应的 <input type="text"> ，用于输入文本；</li>
<li>口令框，对应的 <input type="password"> ，用于输入口令；</li>
<li>单选框，对应的 <input type="radio"> ，用于选择一项；</li>
<li>复选框，对应的 <input type="checkbox"> ，用于选择多项；</li>
<li>下拉框，对应的 <select> ，用于选择一项；</li>
<li>隐藏文本，对应的 <input type="hidden"> ，用户不可见，但表单提交时会把隐藏文本发送到<br>服务器。</li>
</ul>
<h3 id="8-2、获取值"><a href="#8-2、获取值" class="headerlink" title="8.2、获取值"></a>8.2、获取值</h3><p>如果我们获得了一个 <input> 节点的引用，就可以直接调用 value 获得对应的用户输入值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;email&quot;&gt;</span><br><span class="line">var input &#x3D; document.getElementById(&#39;email&#39;);</span><br><span class="line">input.value; &#x2F;&#x2F; &#39;用户输入的值&#39;</span><br></pre></td></tr></table></figure>

<p>这种方式可以应用于 text 、 password 、 hidden 以及 select 。但是，对于单选框和复选<br>框， value 属性返回的永远是HTML预设的值，而我们需要获得的实际是用户是否“勾上了”选项，所<br>以应该用 checked 判断：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; &lt;label&gt;&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;weekday&quot; id&#x3D;&quot;monday&quot; value&#x3D;&quot;1&quot;&gt;</span><br><span class="line">Monday&lt;&#x2F;label&gt;</span><br><span class="line">&#x2F;&#x2F; &lt;label&gt;&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;weekday&quot; id&#x3D;&quot;tuesday&quot; value&#x3D;&quot;2&quot;&gt;</span><br><span class="line">Tuesday&lt;&#x2F;label&gt;</span><br><span class="line">var mon &#x3D; document.getElementById(&#39;monday&#39;);</span><br><span class="line">var tue &#x3D; document.getElementById(&#39;tuesday&#39;);</span><br><span class="line">mon.value; &#x2F;&#x2F; &#39;1&#39;</span><br><span class="line">tue.value; &#x2F;&#x2F; &#39;2&#39;</span><br><span class="line">mon.checked; &#x2F;&#x2F; true或者false</span><br><span class="line">tue.checked; &#x2F;&#x2F; true或者false</span><br></pre></td></tr></table></figure>




<h3 id="8-3、设置值"><a href="#8-3、设置值" class="headerlink" title="8.3、设置值"></a>8.3、设置值</h3><p>设置值和获取值类似，对于 text 、 password 、 hidden 以及 select ，直接设置 value<br>就可以：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;email&quot;&gt;</span><br><span class="line">var input &#x3D; document.getElementById(&#39;email&#39;);</span><br><span class="line">input.value &#x3D; &#39;test@example.com&#39;; &#x2F;&#x2F; 文本框的内容已更新</span><br></pre></td></tr></table></figure>

<p>对于单选框和复选框，设置 checked 为 true 或 false 即可。</p>
<h3 id="8-4、提交表单"><a href="#8-4、提交表单" class="headerlink" title="8.4、提交表单"></a>8.4、提交表单</h3><p>最后，JavaScript可以以两种方式来处理表单的提交（AJAX方式在后面章节介绍）。</p>
<p>方式一是通过 <form> 元素的 submit() 方法提交一个表单，例如，响应一个 button 的<br>click 事件，在JavaScript代码中提交表单：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML --&gt;</span><br><span class="line">&lt;form id&#x3D;&quot;test-form&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;test&quot;&gt;</span><br><span class="line">&lt;button type&#x3D;&quot;button&quot; onclick&#x3D;&quot;doSubmitForm()&quot;&gt;Submit&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">function doSubmitForm() &#123;</span><br><span class="line">var form &#x3D; document.getElementById(&#39;test-form&#39;);</span><br><span class="line">&#x2F;&#x2F; 可以在此修改form的input...</span><br><span class="line">&#x2F;&#x2F; 提交form:</span><br><span class="line">form.submit();</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>这种方式的缺点是扰乱了浏览器对form的正常提交。浏览器默认点击 <button type="submit"> 时<br>提交表单，或者用户在最后一个输入框按回车键。因此，第二种方式是响应 <form> 本身的<br>onsubmit 事件，在提交form时作修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML --&gt;</span><br><span class="line">&lt;form id&#x3D;&quot;test-form&quot; onsubmit&#x3D;&quot;return checkForm()&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;test&quot;&gt;</span><br><span class="line">&lt;button type&#x3D;&quot;submit&quot;&gt;Submit&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">function checkForm() &#123;</span><br><span class="line">var form &#x3D; document.getElementById(&#39;test-form&#39;);</span><br><span class="line">&#x2F;&#x2F; 可以在此修改form的input...</span><br><span class="line">&#x2F;&#x2F; 继续下一步:</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>


<p>注意要 return true 来告诉浏览器继续提交，如果 return false ，浏览器将不会继续提交<br>form，这种情况通常对应用户输入有误，提示用户错误信息后终止提交form。</p>
<p>在检查和修改 <input> 时，要充分利用 <input type="hidden"> 来传递数据。</p>
<p>例如，很多登录表单希望用户输入用户名和口令，但是，安全考虑，提交表单时不传输明文口令，而是<br>口令的MD5。普通JavaScript开发人员会直接修改 <input> ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;form id&#x3D;&quot;login-form&quot; method&#x3D;&quot;post&quot; onsubmit&#x3D;&quot;return checkForm()&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;username&quot; name&#x3D;&quot;username&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;password&quot; name&#x3D;&quot;password&quot;&gt;</span><br><span class="line">&lt;button type&#x3D;&quot;submit&quot;&gt;Submit&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;blueimp-md5&#x2F;2.10.0&#x2F;js&#x2F;md5.min.js&quot;&gt;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">function checkForm() &#123;</span><br><span class="line">var pwd &#x3D; document.getElementById(&#39;password&#39;);</span><br><span class="line">&#x2F;&#x2F; 把用户输入的明文变为MD5:</span><br><span class="line">pwd.value &#x3D; md5(pwd.value);</span><br><span class="line">&#x2F;&#x2F; 继续下一步:</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>这个做法看上去没啥问题，但用户输入了口令提交时，口令框的显示会突然从几个 * 变成 32 个</p>
<h4 id="（因为MD5有-32-个字符）。"><a href="#（因为MD5有-32-个字符）。" class="headerlink" title="* （因为MD5有 32 个字符）。"></a>* （因为MD5有 32 个字符）。</h4><p>要想不改变用户的输入，可以利用 <input type="hidden"> 实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;blueimp-md5&#x2F;2.10.0&#x2F;js&#x2F;md5.min.js&quot;&gt;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- HTML --&gt;</span><br><span class="line">&lt;form id&#x3D;&quot;login-form&quot; method&#x3D;&quot;post&quot; onsubmit&#x3D;&quot;return checkForm()&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;username&quot; name&#x3D;&quot;username&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;input-password&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;hidden&quot; id&#x3D;&quot;md5-password&quot; name&#x3D;&quot;password&quot;&gt;</span><br><span class="line">&lt;button type&#x3D;&quot;submit&quot;&gt;Submit&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">function checkForm() &#123;</span><br><span class="line">var input_pwd &#x3D; document.getElementById(&#39;input-password&#39;);</span><br><span class="line">var md5_pwd &#x3D; document.getElementById(&#39;md5-password&#39;);</span><br><span class="line">&#x2F;&#x2F; 把用户输入的明文变为MD5:</span><br><span class="line">md5_pwd.value &#x3D; md5(input_pwd.value);</span><br><span class="line">&#x2F;&#x2F; 继续下一步:</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>


<h2 id="9-、jQuery"><a href="#9-、jQuery" class="headerlink" title="9 、jQuery"></a>9 、jQuery</h2><h3 id="9-1、什么是JQuery"><a href="#9-1、什么是JQuery" class="headerlink" title="9.1、什么是JQuery"></a>9.1、什么是JQuery</h3><p>你可能听说过jQuery，它名字起得很土，但却是JavaScript世界中使用最广泛的一个库。</p>
<p>江湖传言，全世界大约有80~90%的网站直接或间接地使用了jQuery。鉴于它如此流行，又如此好用，所以每一个入门JavaScript的前端工程师都应该了解和学习它。</p>
<p>jQuery这么流行，肯定是因为它解决了一些很重要的问题。实际上，jQuery能帮我们干这些事情：</p>
<ul>
<li>消除浏览器差异：你不需要自己写冗长的代码来针对不同的浏览器来绑定事件，编写AJAX等代码；</li>
<li>简洁的操作DOM的方法：写 $(‘#test’) 肯定比 document.getElementById(‘test’) 来得<br>简洁；</li>
<li>轻松实现动画、修改CSS等各种操作。</li>
</ul>
<p>jQuery的理念“Write Less, Do More“，让你写更少的代码，完成更多的工作！</p>
<p>官网：<a target="_blank" rel="noopener" href="https://jquery.com/">https://jquery.com/</a></p>
<p>jQuery只是一个 jquery-xxx.js 文件，但你会看到有compressed（已压缩）和uncompressed（未<br>压缩）两种版本，使用时完全一样，但如果你想深入研究jQuery源码，那就用uncompressed版本。</p>
<p>使用jQuery只需要在页面的 head 引入jQuery文件即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;&#x2F;&#x2F;code.jquery.com&#x2F;jquery-1.11.3.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">...</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;a id&#x3D;&quot;test-link&quot; href&#x3D;&quot;#0&quot;&gt;点我试试&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; 获取超链接的jQuery对象:</span><br><span class="line">var a &#x3D; $(&#39;#test-link&#39;);</span><br><span class="line">a.on(&#39;click&#39;, function () &#123;</span><br><span class="line">alert(&#39;Hello!&#39;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 方式二</span><br><span class="line"></span><br><span class="line">a.click(function () &#123;</span><br><span class="line">alert(&#39;Hello!&#39;);</span><br><span class="line">&#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>


<p>公式： $(selector).action()</p>
<ul>
<li>美元符号定义 jQuery</li>
<li>选择符（selector）”查询”和”查找” HTML 元素</li>
<li>jQuery 的 action() 执行对元素的操作</li>
</ul>
<h3 id="9-2、选择器"><a href="#9-2、选择器" class="headerlink" title="9.2、选择器"></a>9.2、选择器</h3><blockquote>
<p>了解</p>
</blockquote>
<p>选择器是jQuery的核心。</p>
<p>为什么jQuery要发明选择器？回顾一下DOM操作中我们经常使用的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 按ID查找：</span><br><span class="line">var a &#x3D; document.getElementById(&#39;dom-id&#39;);</span><br><span class="line">&#x2F;&#x2F; 按tag查找：</span><br><span class="line">var divs &#x3D; document.getElementsByTagName(&#39;div&#39;);</span><br><span class="line">&#x2F;&#x2F; 查找&lt;p class&#x3D;&quot;red&quot;&gt;：</span><br><span class="line">var ps &#x3D; document.getElementsByTagName(&#39;p&#39;);</span><br><span class="line">&#x2F;&#x2F; 过滤出class&#x3D;&quot;red&quot;:</span><br><span class="line">&#x2F;&#x2F; TODO:</span><br><span class="line">&#x2F;&#x2F; 查找&lt;table class&#x3D;&quot;green&quot;&gt;里面的所有&lt;tr&gt;：</span><br><span class="line">var table &#x3D; ...</span><br><span class="line">for (var i&#x3D; 0 ; i&lt;table.children; i++) &#123;</span><br><span class="line">&#x2F;&#x2F; TODO: 过滤出&lt;tr&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这些代码实在太繁琐了！</p>
<p>jQuery的选择器就是帮助我们快速定位到一个或多个DOM节点。</p>
<p><strong>按ID查找</strong></p>
<p>如果某个DOM节点有 id 属性，利用jQuery查找如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 查找&lt;div id&#x3D;&quot;abc&quot;&gt;:</span><br><span class="line">var div &#x3D; $(&#39;#abc&#39;);</span><br></pre></td></tr></table></figure>



<p><strong>按tag查找</strong></p>
<p>按tag查找只需要写上tag名称就可以了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var ps &#x3D; $(&#39;p&#39;); &#x2F;&#x2F; 返回所有&lt;p&gt;节点</span><br><span class="line">ps.length; &#x2F;&#x2F; 数一数页面有多少个&lt;p&gt;节点</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<p><strong>按class查找</strong></p>
<p>按class查找注意在class名称前加一个**.** ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; $(&#39;.red&#39;); &#x2F;&#x2F; 所有节点包含&#96;class&#x3D;&quot;red&quot;&#96;都将返回</span><br><span class="line">&#x2F;&#x2F; 例如:</span><br><span class="line">&#x2F;&#x2F; &lt;div class&#x3D;&quot;red&quot;&gt;...&lt;&#x2F;div&gt;</span><br><span class="line">&#x2F;&#x2F; &lt;p class&#x3D;&quot;green red&quot;&gt;...&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>



<h4 id="按属性查找"><a href="#按属性查找" class="headerlink" title="按属性查找"></a>按属性查找</h4><p>一个DOM节点除了 id 和 class 外还可以有很多属性，很多时候按属性查找会非常方便，比如在一<br>个表单中按属性来查找：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var email &#x3D; $(&#39;[name&#x3D;email]&#39;); &#x2F;&#x2F; 找出&lt;??? name&#x3D;&quot;email&quot;&gt;</span><br><span class="line">var passwordInput &#x3D; $(&#39;[type&#x3D;password]&#39;); &#x2F;&#x2F; 找出&lt;??? type&#x3D;&quot;password&quot;&gt;</span><br><span class="line">var a &#x3D; $(&#39;[items&#x3D;&quot;A B&quot;]&#39;); &#x2F;&#x2F; 找出&lt;??? items&#x3D;&quot;A B&quot;&gt;</span><br></pre></td></tr></table></figure>


<p>当属性的值包含空格等特殊字符时，需要用双引号括起来。</p>
<p>按属性查找还可以使用前缀查找或者后缀查找：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var icons &#x3D; $(&#39;[name^&#x3D;icon]&#39;); &#x2F;&#x2F; 找出所有name属性值以icon开头的DOM</span><br><span class="line">&#x2F;&#x2F; 例如: name&#x3D;&quot;icon-1&quot;, name&#x3D;&quot;icon-2&quot;</span><br><span class="line">var names &#x3D; $(&#39;[name$&#x3D;with]&#39;); &#x2F;&#x2F; 找出所有name属性值以with结尾的DOM</span><br><span class="line">&#x2F;&#x2F; 例如: name&#x3D;&quot;startswith&quot;, name&#x3D;&quot;endswith&quot;</span><br></pre></td></tr></table></figure>






<h3 id="9-3、操作DOM"><a href="#9-3、操作DOM" class="headerlink" title="9.3、操作DOM"></a>9.3、操作DOM</h3><blockquote>
<p>修改Text和HTML</p>
</blockquote>
<p>jQuery对象的 text() 和 html() 方法分别获取节点的文本和原始HTML文本，例如，如下的HTML</p>
<p>结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line"></span><br><span class="line">&lt;ul id&#x3D;&quot;test-ul&quot;&gt;</span><br><span class="line">&lt;li class&#x3D;&quot;js&quot;&gt;JavaScript&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li name&#x3D;&quot;book&quot;&gt;Java &amp; JavaScript&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br></pre></td></tr></table></figure>


<p>分别获取文本和HTML：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&#39;#test-ul li[name&#x3D;book]&#39;).text(); &#x2F;&#x2F; &#39;Java &amp; JavaScript&#39;</span><br><span class="line">$(&#39;#test-ul li[name&#x3D;book]&#39;).html(); &#x2F;&#x2F; &#39;Java &amp; JavaScript&#39;</span><br></pre></td></tr></table></figure>


<p>如何设置文本或HTML？jQuery的API设计非常巧妙：无参数调用 text() 是获取文本，传入参数就变<br>成设置文本，HTML也是类似操作，自己动手试试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var j1 &#x3D; $(&#39;#test-ul li.js&#39;);</span><br><span class="line">var j2 &#x3D; $(&#39;#test-ul li[name&#x3D;book]&#39;);</span><br><span class="line">j1.html(&#39;&lt;span style&#x3D;&quot;color: red&quot;&gt;JavaScript&lt;&#x2F;span&gt;&#39;);</span><br><span class="line">j2.text(&#39;JavaScript &amp; ECMAScript&#39;);</span><br></pre></td></tr></table></figure>


<p>一个jQuery对象可以包含 0 个或任意个DOM对象，它的方法实际上会作用在对应的每个DOM节点上。在<br>上面的例子中试试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&#39;#test-ul li&#39;).text(&#39;JS&#39;); &#x2F;&#x2F; 是不是两个节点都变成了JS？</span><br></pre></td></tr></table></figure>






<blockquote>
<p>修改CSS</p>
</blockquote>
<p>jQuery对象有“批量操作”的特点，这用于修改CSS实在是太方便了。考虑下面的HTML结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line"></span><br><span class="line">&lt;ul id&#x3D;&quot;test-css&quot;&gt;</span><br><span class="line">&lt;li class&#x3D;&quot;lang dy&quot;&gt;&lt;span&gt;JavaScript&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li class&#x3D;&quot;lang&quot;&gt;&lt;span&gt;Java&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li class&#x3D;&quot;lang dy&quot;&gt;&lt;span&gt;Python&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li class&#x3D;&quot;lang&quot;&gt;&lt;span&gt;Swift&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li class&#x3D;&quot;lang dy&quot;&gt;&lt;span&gt;Scheme&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br></pre></td></tr></table></figure>


<p>要高亮显示动态语言，调用jQuery对象的 css(‘name’, ‘value’) 方法，我们用一行语句实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&#39;#test-css li.dy&gt;span&#39;).css(&#39;background-color&#39;, &#39;#ffd351&#39;).css(&#39;color&#39;,</span><br><span class="line">&#39;red&#39;);</span><br></pre></td></tr></table></figure>

<p>注意，jQuery对象的所有方法都返回一个jQuery对象（可能是新的也可能是自身），这样我们可以进行<br>链式调用，非常方便。</p>
<p>jQuery对象的 css() 方法可以这么用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var div &#x3D; $(&#39;#test-div&#39;);</span><br><span class="line">div.css(&#39;color&#39;); &#x2F;&#x2F; &#39;#000033&#39;, 获取CSS属性</span><br><span class="line">div.css(&#39;color&#39;, &#39;#336699&#39;); &#x2F;&#x2F; 设置CSS属性</span><br><span class="line">div.css(&#39;color&#39;, &#39;&#39;); &#x2F;&#x2F; 清除CSS属性</span><br></pre></td></tr></table></figure>

<p>css() 方法将作用于DOM节点的 style 属性，具有最高优先级。如果要修改 class 属性，可</p>
<p>以用jQuery提供的下列方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var div &#x3D; $(&#39;#test-div&#39;);</span><br><span class="line">div.hasClass(&#39;highlight&#39;); &#x2F;&#x2F; false， class是否包含highlight</span><br><span class="line">div.addClass(&#39;highlight&#39;); &#x2F;&#x2F; 添加highlight这个class</span><br><span class="line">div.removeClass(&#39;highlight&#39;); &#x2F;&#x2F; 删除highlight这个class</span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示和隐藏DOM</p>
</blockquote>
<p>要隐藏一个DOM，我们可以设置CSS的 display 属性为 none ，利用 css() 方法就可以实现。<br>不过，要显示这个DOM就需要恢复原有的 display 属性，这就得先记下来原有的 display 属性到<br>底是 block 还是 inline 还是别的值。</p>
<p>考虑到显示和隐藏DOM元素使用非常普遍，jQuery直接提供 show() 和 hide() 方法，我们不用关<br>心它是如何修改 display 属性的，总之它能正常工作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; $(&#39;a[target&#x3D;_blank]&#39;);</span><br><span class="line">a.hide(); &#x2F;&#x2F; 隐藏</span><br><span class="line">a.show(); &#x2F;&#x2F; 显示</span><br></pre></td></tr></table></figure>


<p>注意，隐藏DOM节点并未改变DOM树的结构，它只影响DOM节点的显示。这和删除DOM节点是不同的。</p>
<blockquote>
<p>获取DOM信息</p>
</blockquote>
<p>利用jQuery对象的若干方法，我们直接可以获取DOM的高宽等信息，而无需针对不同浏览器编写特定代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 浏览器可视窗口大小:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$(window).width(); &#x2F;&#x2F; 800</span><br><span class="line">$(window).height(); &#x2F;&#x2F; 600</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML文档大小:</span><br><span class="line">$(document).width(); &#x2F;&#x2F; 800</span><br><span class="line">$(document).height(); &#x2F;&#x2F; 3500</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 某个div的大小:</span><br><span class="line">var div &#x3D; $(&#39;#test-div&#39;);</span><br><span class="line">div.width(); &#x2F;&#x2F; 600</span><br><span class="line">div.height(); &#x2F;&#x2F; 300</span><br><span class="line">div.width( 400 ); &#x2F;&#x2F; 设置CSS属性 width: 400px，是否生效要看CSS是否有效</span><br><span class="line">div.height(&#39;200px&#39;); &#x2F;&#x2F; 设置CSS属性 height: 200px，是否生效要看CSS是否有效</span><br></pre></td></tr></table></figure>

<p>attr() 和 removeAttr() 方法用于操作DOM节点的属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; &lt;div id&#x3D;&quot;test-div&quot; name&#x3D;&quot;Test&quot; start&#x3D;&quot;1&quot;&gt;...&lt;&#x2F;div&gt;</span><br><span class="line">var div &#x3D; $(&#39;#test-div&#39;);</span><br><span class="line">div.attr(&#39;data&#39;); &#x2F;&#x2F; undefined, 属性不存在</span><br><span class="line">div.attr(&#39;name&#39;); &#x2F;&#x2F; &#39;Test&#39;</span><br><span class="line">div.attr(&#39;name&#39;, &#39;Hello&#39;); &#x2F;&#x2F; div的name属性变为&#39;Hello&#39;</span><br><span class="line">div.removeAttr(&#39;name&#39;); &#x2F;&#x2F; 删除name属性</span><br><span class="line">div.attr(&#39;name&#39;); &#x2F;&#x2F; undefined</span><br></pre></td></tr></table></figure>




<blockquote>
<p>操作表单</p>
</blockquote>
<p>对于表单元素，jQuery对象统一提供 val() 方法获取和设置对应的 value 属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id&#x3D;&quot;test-input&quot; name&#x3D;&quot;email&quot; value&#x3D;&quot;&quot;&gt;</span><br><span class="line">&lt;select id&#x3D;&quot;test-select&quot; name&#x3D;&quot;city&quot;&gt;</span><br><span class="line">&lt;option value&#x3D;&quot;BJ&quot; selected&gt;Beijing&lt;&#x2F;option&gt;</span><br><span class="line">&lt;option value&#x3D;&quot;SH&quot;&gt;Shanghai&lt;&#x2F;option&gt;</span><br><span class="line">&lt;option value&#x3D;&quot;SZ&quot;&gt;Shenzhen&lt;&#x2F;option&gt;</span><br><span class="line">&lt;&#x2F;select&gt;</span><br><span class="line">&lt;textarea id&#x3D;&quot;test-textarea&quot;&gt;Hello&lt;&#x2F;textarea&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line">var</span><br><span class="line">input &#x3D; $(&#39;#test-input&#39;),</span><br><span class="line"></span><br><span class="line">select &#x3D; $(&#39;#test-select&#39;),</span><br><span class="line">textarea &#x3D; $(&#39;#test-textarea&#39;);</span><br><span class="line"></span><br><span class="line">input.val(); &#x2F;&#x2F; &#39;test&#39;</span><br><span class="line">input.val(&#39;abc@example.com&#39;); &#x2F;&#x2F; 文本框的内容已变为abc@example.com</span><br><span class="line"></span><br><span class="line">select.val(); &#x2F;&#x2F; &#39;BJ&#39;</span><br><span class="line">select.val(&#39;SH&#39;); &#x2F;&#x2F; 选择框已变为Shanghai</span><br><span class="line"></span><br><span class="line">textarea.val(); &#x2F;&#x2F; &#39;Hello&#39;</span><br><span class="line">textarea.val(&#39;Hi&#39;); &#x2F;&#x2F; 文本区域已更新为&#39;Hi&#39;</span><br></pre></td></tr></table></figure>


<p>可见，一个 val() 就统一了各种输入框的取值和赋值的问题。</p>
<blockquote>
<p>添加DOM</p>
</blockquote>
<p>要添加新的DOM节点，除了通过jQuery的 html() 这种暴力方法外，还可以用 append() 方法，例<br>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;test-div&quot;&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;&lt;span&gt;JavaScript&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li&gt;&lt;span&gt;Python&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li&gt;&lt;span&gt;Swift&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>如何向列表新增一个语言？首先要拿到 <ul> 节点：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var ul &#x3D; $(&#39;#test-div&gt;ul&#39;);</span><br></pre></td></tr></table></figure>

<p>然后，调用 append() 传入HTML片段：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ul.append(&#39;&lt;li&gt;&lt;span&gt;Haskell&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;&#39;);</span><br></pre></td></tr></table></figure>

<p>append() 把DOM添加到最后， prepend() 则把DOM添加到最前。</p>
<p>如果要把新节点插入到指定位置，例如，JavaScript和Python之间，那么，可以先定位到JavaScript，然后用 after() 方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var js &#x3D; $(&#39;#test-div&gt;ul&gt;li:first-child&#39;);</span><br><span class="line">js.after(&#39;&lt;li&gt;&lt;span&gt;Lua&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;&#39;);</span><br></pre></td></tr></table></figure>


<p>也就是说，同级节点可以用 after() 或者 before() 方法。</p>
<blockquote>
<p>删除节点</p>
</blockquote>
<p>要删除DOM节点，拿到jQuery对象后直接调用 remove() 方法就可以了。如果jQuery对象包含若干<br>DOM节点，实际上可以一次删除多个DOM节点：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var li &#x3D; $(&#39;#test-div&gt;ul&gt;li&#39;);</span><br><span class="line">li.remove(); &#x2F;&#x2F; 所有&lt;li&gt;全被删除</span><br></pre></td></tr></table></figure>



<h3 id="9-4、事件"><a href="#9-4、事件" class="headerlink" title="9.4、事件"></a>9.4、事件</h3><p>jQuery能够绑定的事件主要包括：</p>
<p><strong>鼠标事件</strong></p>
<p>click: 鼠标单击时触发； dblclick：鼠标双击时触发； mouseenter：鼠标进入时触发； mouseleave：<br>鼠标移出时触发； mousemove：鼠标在DOM内部移动时触发； hover：鼠标进入和退出时触发两个函<br>数，相当于mouseenter加上mouseleave。</p>
<p><strong>键盘事件</strong></p>
<p>键盘事件仅作用在当前焦点的DOM上，通常是 和 。</p>
<p>keydown：键盘按下时触发； keyup：键盘松开时触发； keypress：按一次键后触发。</p>
<p><strong>其他事件</strong></p>
<p>focus：当DOM获得焦点时触发； blur：当DOM失去焦点时触发； change：当 、 或 的内容改变时</p>
<p>触发； submit：当 提交时触发； ready：当页面被载入并且DOM树完成初始化后触发。</p>
<blockquote>
<p>初始化事件</p>
</blockquote>
<p>我们自己的初始化代码必须放到 document 对象的 ready 事件中，保证DOM已完成初始化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(document).on(&#39;ready&#39;, function () &#123;</span><br><span class="line">        $(&#39;#testForm).on(&#39;submit&#39;, function () &#123;</span><br><span class="line">            alert(&#39;submit!&#39;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form id&#x3D;&quot;testForm&quot;&gt;</span><br><span class="line">        ...</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<p>这样写就没有问题了。因为相关代码会在DOM树初始化后再执行。</p>
<p>由于 ready 事件使用非常普遍，所以可以这样简化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function () &#123;</span><br><span class="line">&#x2F;&#x2F; on(&#39;submit&#39;, function)也可以简化:</span><br><span class="line">$(&#39;#testForm).submit(function () &#123;</span><br><span class="line">alert(&#39;submit!&#39;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>甚至还可以再简化为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">&#x2F;&#x2F; init...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<blockquote>
<p>事件参数</p>
</blockquote>
<p>有些事件，如 mousemove 和 keypress ，我们需要获取鼠标位置和按键的值，否则监听这些事件就没什么意义了。所有事件都会传入 Event 对象作为参数，可以从 Event 对象上获取到更多的信<br>息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">    #testMouseMoveDiv&#123;</span><br><span class="line">        width: 300px;</span><br><span class="line">        height: 300px;</span><br><span class="line">        border: 1px solid black;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">mousemove: &lt;span id&#x3D;&quot;testMouseMoveSpan&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id&#x3D;&quot;testMouseMoveDiv&quot;&gt;</span><br><span class="line">    在此区域移动鼠标试试</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;jquery&#x2F;3.4.1&#x2F;jquery.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(function () &#123;</span><br><span class="line">        $(&#39;#testMouseMoveDiv&#39;).mousemove(function (e) &#123;</span><br><span class="line">            $(&#39;#testMouseMoveSpan&#39;).text(&#39;pageX &#x3D; &#39; + e.pageX + &#39;, pageY &#x3D; &#39;</span><br><span class="line">            + e.pageY);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

</script></p>
  </div>
  <div>
    <a href="https://github.com/Mcguffen/mcguffen.github.io/edit/myblog/source/_posts/docs/frontEnd/js/JavaScript-jQuery/JavaScript.md"target="_blank">编辑</a>
  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/Mcguffen?tab=repositories">项目</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript"><span class="toc-number">1.</span> <span class="toc-text">JavaScript</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E3%80%81%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">1 、概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1%E3%80%81%E5%89%8D%E8%A8%80"><span class="toc-number">1.2.</span> <span class="toc-text">1.1、前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2%E3%80%81JavaScript%E5%8E%86%E5%8F%B2"><span class="toc-number">1.3.</span> <span class="toc-text">1.2、JavaScript历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3%E3%80%81ECMAScript"><span class="toc-number">1.4.</span> <span class="toc-text">1.3、ECMAScript</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E3%80%81JavaScript%E7%89%88%E6%9C%AC"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.4、JavaScript版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5%E3%80%81%E5%BC%95%E5%85%A5JavaScript"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.5、引入JavaScript</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&text=JavaScriptAndJQuery"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&is_video=false&description=JavaScriptAndJQuery"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=JavaScriptAndJQuery&body=Check out this article: https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&title=JavaScriptAndJQuery"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&name=JavaScriptAndJQuery&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://mcguffen.github/2019/09/21/docs/frontEnd/js/JavaScript-jQuery/JavaScript/&t=JavaScriptAndJQuery"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2021
    Hi! I am yang.
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/about/">关于</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/Mcguffen?tab=repositories">项目</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
